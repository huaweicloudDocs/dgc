# 创建数据连接<a name="dgc_01_0009"></a>

通过配置数据源信息，可以建立数据连接。DGC基于管理中心的数据连接对数据湖底座进行数据开发、治理、服务和运营。

## 约束限制<a name="section12257714302"></a>

RDS数据连接方式依赖于OBS。如果没有与DGC同区域的OBS，则不支持RDS数据连接。

## 前提条件<a name="zh-cn_topic_0141836082_section123410126716"></a>

-   在创建数据连接前，请确保您已创建所要连接的数据湖（如DGC所支持的数据库、云服务等）。
    -   在创建DWS类型的数据连接前，您需要先在DWS服务中创建集群，并且具有KMS密钥的查看权限。
    -   在创建MRS HBase、MRS Hive、MRS Kafka、MRS Ranger、MRS Spark、MRS Presto类型的数据连接前，需确保您已购买MRS集群，并且在创建数据链接时已购买选择所需要的组件。
    -   在创建RDS类型的数据连接前，请确保您已创建RDS数据库实例。DGC平台目前仅支持RDS中的MySQL和PostgreSQL数据库引擎。

-   在创建数据连接前，请确保待连接的数据湖与DGC实例之间网络互通。
    -   如果数据湖为云下的数据库，则需要通过公网或者专线打通网络，确保数据源所在的主机可以访问公网，并且防火墙规则已开放连接端口。
    -   如果数据湖为云上服务（如DWS、MRS等），则网络互通需满足如下条件：
        -   DGC实例（指DGC实例中的批量数据迁移集群）与云上服务处于不同区域的情况下，需要通过公网或者专线打通网络。
        -   DGC实例（指DGC实例中的批量数据迁移集群）与云上服务同区域情况下，同虚拟私有云、同子网、同安全组的不同实例默认网络互通；如果同虚拟私有云但是子网或安全组不同，还需配置路由规则及安全组规则，配置路由规则请参见[如何配置路由规则](https://support.huaweicloud.com/bestpractice-vpc/bestpractice_0009.html#bestpractice_0009__zh-cn_topic_0252060877_li16617547103419)章节，配置安全组规则请参见[如何配置安全组规则](https://support.huaweicloud.com/usermanual-ecs/zh-cn_topic_0140323152.html)《虚拟私有云\(VPC\)使用指南》中的“安全组 \> 添加安全组规则”章节。
        -   此外，您还必须确保该云服务的实例与DGC工作空间所属的企业项目必须相同，如果不同，您需要修改工作空间的企业项目。



## 创建数据连接<a name="zh-cn_topic_0141836082_section154286211920"></a>

1.  在DGC控制台首页，选择对应工作空间的“管理中心“模块，进入管理中心页面。

    **图 1**  选择管理中心<a name="fig11331320153513"></a>  
    ![](figures/选择管理中心.png "选择管理中心")


1.  在管理中心页面，单击“数据连接”，进入数据连接页面。

    **图 2**  创建数据连接<a name="fig112561281915"></a>  
    ![](figures/创建数据连接.png "创建数据连接")


1.  单击“创建数据连接“，在弹出的对话框中，选择“数据连接类型”，并参见[表1](#table11826143220444)配置相关参数。

    **图 3**  创建数据连接<a name="fig1211720318207"></a>  
    ![](figures/创建数据连接-0.png "创建数据连接-0")

    **表 1**  数据连接

    <a name="table11826143220444"></a>
    <table><thead align="left"><tr id="row12823932134414"><th class="cellrowborder" valign="top" width="31.81%" id="mcps1.2.3.1.1"><p id="p682243234413"><a name="p682243234413"></a><a name="p682243234413"></a>数据连接类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="68.19%" id="mcps1.2.3.1.2"><p id="p19823153210442"><a name="p19823153210442"></a><a name="p19823153210442"></a>参数说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row8823103274417"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p1823193215449"><a name="p1823193215449"></a><a name="p1823193215449"></a>MRS Hive</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p1782313329443"><a name="p1782313329443"></a><a name="p1782313329443"></a>请参见<a href="#zh-cn_topic_0141836082_table7439112617527">表2</a>。</p>
    </td>
    </tr>
    <tr id="row7823532124419"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p178231132114411"><a name="p178231132114411"></a><a name="p178231132114411"></a>MRS HBase</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p128236329446"><a name="p128236329446"></a><a name="p128236329446"></a>请参见<a href="#zh-cn_topic_0141836082_table3603114194813">表3</a>。</p>
    </td>
    </tr>
    <tr id="row19736184115532"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p373754115316"><a name="p373754115316"></a><a name="p373754115316"></a>MRS Kafka</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p12737041185310"><a name="p12737041185310"></a><a name="p12737041185310"></a>请参见<a href="#table2793143618161">表4</a>。</p>
    </td>
    </tr>
    <tr id="row1463991185210"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p564031165212"><a name="p564031165212"></a><a name="p564031165212"></a>MRS Ranger</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p186402115210"><a name="p186402115210"></a><a name="p186402115210"></a>请参见<a href="#table2042554119528">表11</a>。</p>
    </td>
    </tr>
    <tr id="row7824632134416"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p7823203294418"><a name="p7823203294418"></a><a name="p7823203294418"></a>DWS</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p8824123234415"><a name="p8824123234415"></a><a name="p8824123234415"></a>请参见<a href="#zh-cn_topic_0141836082_table6376162616523">表7</a>。</p>
    </td>
    </tr>
    <tr id="row9824163204415"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p108241232104410"><a name="p108241232104410"></a><a name="p108241232104410"></a>DLI</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p12824232134417"><a name="p12824232134417"></a><a name="p12824232134417"></a>请参见<a href="#zh-cn_topic_0141836082_table5298126135216">表8</a>。</p>
    </td>
    </tr>
    <tr id="row150111142217"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p1351181162218"><a name="p1351181162218"></a><a name="p1351181162218"></a>ORACLE</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p15251122214"><a name="p15251122214"></a><a name="p15251122214"></a>请参见<a href="#table44851027236">表9</a></p>
    </td>
    </tr>
    <tr id="row6825153224410"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p882533294414"><a name="p882533294414"></a><a name="p882533294414"></a>MRS Spark</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p2082593210449"><a name="p2082593210449"></a><a name="p2082593210449"></a>请参见<a href="#zh-cn_topic_0141836082_table10248171110208">表5</a>。</p>
    </td>
    </tr>
    <tr id="row1582515324442"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p482503244410"><a name="p482503244410"></a><a name="p482503244410"></a>RDS</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p17825732114414"><a name="p17825732114414"></a><a name="p17825732114414"></a>请参见<a href="#zh-cn_topic_0141836082_table126135615295">表6</a>。</p>
    <p id="p58701201060"><a name="p58701201060"></a><a name="p58701201060"></a>RDS数据连接方式依赖于OBS。如果没有与DGC同区域的OBS，则不支持RDS数据连接。</p>
    </td>
    </tr>
    <tr id="row831134925"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p55715113215"><a name="p55715113215"></a><a name="p55715113215"></a>MRS Presto</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p18344426543"><a name="p18344426543"></a><a name="p18344426543"></a>请参见<a href="#table88101192617">表12</a>。</p>
    </td>
    </tr>
    <tr id="row0831146326"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p19831104611215"><a name="p19831104611215"></a><a name="p19831104611215"></a>DIS</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p7535928641"><a name="p7535928641"></a><a name="p7535928641"></a>请参见<a href="#table1817216287017">表10</a>。</p>
    </td>
    </tr>
    <tr id="row93535251133"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p103531251538"><a name="p103531251538"></a><a name="p103531251538"></a>MySQL(待下线)</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p654184204019"><a name="p654184204019"></a><a name="p654184204019"></a>不建议使用MySQL(待下线)连接器，推荐使用RDS连接MySQL数据源，请参见<a href="#zh-cn_topic_0141836082_table126135615295">表6</a>。</p>
    <p id="p1713565412528"><a name="p1713565412528"></a><a name="p1713565412528"></a>RDS数据连接方式依赖于OBS。如果没有与DGC同区域的OBS，则不支持RDS数据连接。</p>
    </td>
    </tr>
    <tr id="row1565412478551"><td class="cellrowborder" valign="top" width="31.81%" headers="mcps1.2.3.1.1 "><p id="p356492817119"><a name="p356492817119"></a><a name="p356492817119"></a>主机连接</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.19%" headers="mcps1.2.3.1.2 "><p id="p115647282016"><a name="p115647282016"></a><a name="p115647282016"></a>关于主机连接的相关操作背景和使用方法请参见<a href="主机连接管理.md">主机连接管理</a>。</p>
    </td>
    </tr>
    </tbody>
    </table>

2.  单击“测试”，测试数据连接的连通性。如果无法连通，数据连接将无法创建。
3.  测试通过后，单击“确定”，创建数据连接。

## 数据连接参数说明<a name="zh-cn_topic_0141836082_section128311774526"></a>

**表 2**  MRS Hive数据连接

<a name="zh-cn_topic_0141836082_table7439112617527"></a>
<table><thead align="left"><tr id="zh-cn_topic_0141836082_row183332775217"><th class="cellrowborder" valign="top" width="20.18%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0141836082_p113382715216"><a name="zh-cn_topic_0141836082_p113382715216"></a><a name="zh-cn_topic_0141836082_p113382715216"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="9.48%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0141836082_p833182715212"><a name="zh-cn_topic_0141836082_p833182715212"></a><a name="zh-cn_topic_0141836082_p833182715212"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="70.34%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0141836082_p153316274522"><a name="zh-cn_topic_0141836082_p153316274522"></a><a name="zh-cn_topic_0141836082_p153316274522"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0141836082_row1233202785217"><td class="cellrowborder" valign="top" width="20.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p17334277524"><a name="zh-cn_topic_0141836082_p17334277524"></a><a name="zh-cn_topic_0141836082_p17334277524"></a>数据连接名称</p>
</td>
<td class="cellrowborder" valign="top" width="9.48%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p63318270523"><a name="zh-cn_topic_0141836082_p63318270523"></a><a name="zh-cn_topic_0141836082_p63318270523"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.34%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p63372735213"><a name="zh-cn_topic_0141836082_p63372735213"></a><a name="zh-cn_topic_0141836082_p63372735213"></a>数据连接的名称，只能包含英文字母、数字、下划线和中划线，且长度为1~50个字符。</p>
</td>
</tr>
<tr id="row107734113312"><td class="cellrowborder" valign="top" width="20.18%" headers="mcps1.2.4.1.1 "><p id="p197745119337"><a name="p197745119337"></a><a name="p197745119337"></a>标签</p>
</td>
<td class="cellrowborder" valign="top" width="9.48%" headers="mcps1.2.4.1.2 "><p id="p1177414173318"><a name="p1177414173318"></a><a name="p1177414173318"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="70.34%" headers="mcps1.2.4.1.3 "><p id="p11774212338"><a name="p11774212338"></a><a name="p11774212338"></a>标识数据连接的属性。设置标签后，便于统一管理。可自行设置标签，也可在下拉框中选择已在<a href="标签管理.md">标签管理</a>中创建的标签。</p>
<div class="note" id="note13603947854"><a name="note13603947854"></a><a name="note13603947854"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p86046471658"><a name="p86046471658"></a><a name="p86046471658"></a>标签的名称，只能包含中文、英文字母、数字和下划线，不能以下划线开头。且长度不能超过100个字符。</p>
</div></div>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row83352725213"><td class="cellrowborder" valign="top" width="20.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p1433727175220"><a name="zh-cn_topic_0141836082_p1433727175220"></a><a name="zh-cn_topic_0141836082_p1433727175220"></a>集群名</p>
</td>
<td class="cellrowborder" valign="top" width="9.48%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p113332716529"><a name="zh-cn_topic_0141836082_p113332716529"></a><a name="zh-cn_topic_0141836082_p113332716529"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.34%" headers="mcps1.2.4.1.3 "><p id="p6167125512594"><a name="p6167125512594"></a><a name="p6167125512594"></a>选择Hive所属的MRS集群。如果在下拉列表中无法显示MRS集群，请检查MRS集群与<span id="text151671554599"><a name="text151671554599"></a><a name="text151671554599"></a>DGC</span>实例是否网络互通。</p>
<div class="p" id="p845041913214"><a name="p845041913214"></a><a name="p845041913214"></a>需确保MRS集群和<span id="text20329182914416"><a name="text20329182914416"></a><a name="text20329182914416"></a>DGC</span>实例之间网络互通，网络互通需满足如下条件：<a name="ul1715617232281"></a><a name="ul1715617232281"></a><ul id="ul1715617232281"><li><span id="text1205999218"><a name="text1205999218"></a><a name="text1205999218"></a>DGC</span>实例（指<span id="text5205499217"><a name="text5205499217"></a><a name="text5205499217"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群处于不同区域的情况下，需要通过公网或者专线打通网络。</li><li><span id="text1020589624"><a name="text1020589624"></a><a name="text1020589624"></a>DGC</span>实例（指<span id="text72051795219"><a name="text72051795219"></a><a name="text72051795219"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群同区域情况下，同虚拟私有云、同子网、同安全组的不同实例默认网络互通；如果同虚拟私有云但子网或安全组不同，还需配置路由规则及安全组规则，配置路由规则请参见<a href="https://support.huaweicloud.com/bestpractice-vpc/bestpractice_0009.html#bestpractice_0009__zh-cn_topic_0252060877_li16617547103419" target="_blank" rel="noopener noreferrer">如何配置路由规则</a>章节，配置安全组规则请参见<a href="https://support.huaweicloud.com/usermanual-ecs/zh-cn_topic_0140323152.html" target="_blank" rel="noopener noreferrer">如何配置安全组规则</a>章节。</li><li>此外，还需确保该MRS集群与<span id="text4156132310284"><a name="text4156132310284"></a><a name="text4156132310284"></a>DGC</span>工作空间所属的企业项目相同，如果不同，您需要修改工作空间的企业项目。</li></ul>
</div>
</td>
</tr>
<tr id="row14166102033317"><td class="cellrowborder" valign="top" width="20.18%" headers="mcps1.2.4.1.1 "><p id="p616772063310"><a name="p616772063310"></a><a name="p616772063310"></a>连接方式</p>
</td>
<td class="cellrowborder" valign="top" width="9.48%" headers="mcps1.2.4.1.2 "><p id="p516718201337"><a name="p516718201337"></a><a name="p516718201337"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.34%" headers="mcps1.2.4.1.3 "><p id="p3167102010339"><a name="p3167102010339"></a><a name="p3167102010339"></a>连接方式：</p>
<a name="ul18801710104013"></a><a name="ul18801710104013"></a><ul id="ul18801710104013"><li>通过代理连接</li><li>MRS API连接<p id="dgc_01_0009_p721682045210"><a name="dgc_01_0009_p721682045210"></a><a name="dgc_01_0009_p721682045210"></a>选择MRS API连接时，有这些约束：</p>
<a name="dgc_01_0009_ol1416110265526"></a><a name="dgc_01_0009_ol1416110265526"></a><ol id="dgc_01_0009_ol1416110265526"><li>无法查看表和字段。</li><li>在SQL编辑器运行SQL时，只能以日志形式显示执行结果。</li><li>该直连方式数据治理功能无法使用。</li></ol>
</li></ul>
</td>
</tr>
<tr id="row173341643113510"><td class="cellrowborder" valign="top" width="20.18%" headers="mcps1.2.4.1.1 "><p id="p5334144333518"><a name="p5334144333518"></a><a name="p5334144333518"></a>用户名</p>
</td>
<td class="cellrowborder" valign="top" width="9.48%" headers="mcps1.2.4.1.2 "><p id="p19334194315354"><a name="p19334194315354"></a><a name="p19334194315354"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.34%" headers="mcps1.2.4.1.3 "><p id="p193341743163512"><a name="p193341743163512"></a><a name="p193341743163512"></a>MRS集群的用户名，通过代理连接的时候，是必选项。</p>
<div class="p" id="p129641211269"><a name="p129641211269"></a><a name="p129641211269"></a>如果要创建MRS安全集群的数据连接，不能使用admin用户。因为admin用户是默认的管理页面用户，这个用户无法作为安全集群的认证用户来使用。您可以参考<a href="创建数据连接.md#section52193714195">创建MRS安全集群的kerberos认证用户</a>创建一个新的MRS用户，然后在创建MRS数据连接时，<span class="parmname" id="dgc_01_0009_parmname3468191262313"><a name="dgc_01_0009_parmname3468191262313"></a><a name="dgc_01_0009_parmname3468191262313"></a>“用户名”</span>和<span class="parmname" id="dgc_01_0009_parmname64683124231"><a name="dgc_01_0009_parmname64683124231"></a><a name="dgc_01_0009_parmname64683124231"></a>“密码”</span>填写为新建的MRS用户及其密码。<div class="note" id="dgc_01_0009_note15451659151217"><a name="dgc_01_0009_note15451659151217"></a><a name="dgc_01_0009_note15451659151217"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="dgc_01_0009_ul17715141011134"></a><a name="dgc_01_0009_ul17715141011134"></a><ul id="dgc_01_0009_ul17715141011134"><li>MRS 3.1.0及之后版本集群，所创建的用户至少需具备Manager_viewer的角色权限才能在管理中心创建连接；如果需要对应组件的进行库、表、数据的操作，还需要添加对应组件的用户组权限。</li><li>MRS 3.1.0版本之前的集群，所创建的用户需要具备Manager_administrator或System_administrator权限，才能在管理中心创建连接。</li><li>仅具备Manager_tenant或Manager_auditor权限，无法创建连接。</li></ul>
</div></div>
</div>
</td>
</tr>
<tr id="row158567463331"><td class="cellrowborder" valign="top" width="20.18%" headers="mcps1.2.4.1.1 "><p id="p4856146143315"><a name="p4856146143315"></a><a name="p4856146143315"></a>密码</p>
</td>
<td class="cellrowborder" valign="top" width="9.48%" headers="mcps1.2.4.1.2 "><p id="p1085614463333"><a name="p1085614463333"></a><a name="p1085614463333"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.34%" headers="mcps1.2.4.1.3 "><p id="p1385620462335"><a name="p1385620462335"></a><a name="p1385620462335"></a>MRS集群的访问密码，通过代理连接的时候，是必选项。</p>
</td>
</tr>
<tr id="row217816439338"><td class="cellrowborder" valign="top" width="20.18%" headers="mcps1.2.4.1.1 "><p id="p1117916436335"><a name="p1117916436335"></a><a name="p1117916436335"></a>KMS密钥</p>
</td>
<td class="cellrowborder" valign="top" width="9.48%" headers="mcps1.2.4.1.2 "><p id="p12179243153310"><a name="p12179243153310"></a><a name="p12179243153310"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.34%" headers="mcps1.2.4.1.3 "><p id="p417915433339"><a name="p417915433339"></a><a name="p417915433339"></a>KMS密钥名称。通过代理连接的时候，是必选项。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row1333627175218"><td class="cellrowborder" valign="top" width="20.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p12553301320"><a name="zh-cn_topic_0141836082_p12553301320"></a><a name="zh-cn_topic_0141836082_p12553301320"></a>绑定Agent</p>
</td>
<td class="cellrowborder" valign="top" width="9.48%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p1525512301027"><a name="zh-cn_topic_0141836082_p1525512301027"></a><a name="zh-cn_topic_0141836082_p1525512301027"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.34%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p162557308218"><a name="zh-cn_topic_0141836082_p162557308218"></a><a name="zh-cn_topic_0141836082_p162557308218"></a>MRS为非全托管服务，<span id="text20105615803"><a name="text20105615803"></a><a name="text20105615803"></a>DGC</span>无法直接与非全托管服务进行连接。<span id="text846585315498"><a name="text846585315498"></a><a name="text846585315498"></a>批量数据迁移</span>集群提供了<span id="text4378101613020"><a name="text4378101613020"></a><a name="text4378101613020"></a>DGC</span>与非全托管服务通信的代理，所以创建MRS Hive的数据连接时，请选择一个<span id="text91479104502"><a name="text91479104502"></a><a name="text91479104502"></a>批量数据迁移</span>集群。如果没有可用的<span id="text1611021105010"><a name="text1611021105010"></a><a name="text1611021105010"></a>批量数据迁移</span>集群，请先创建一个<span id="text12853132919501"><a name="text12853132919501"></a><a name="text12853132919501"></a>批量数据迁移</span>集群。</p>
</td>
</tr>
</tbody>
</table>

**表 3**  MRS HBase数据连接

<a name="zh-cn_topic_0141836082_table3603114194813"></a>
<table><thead align="left"><tr id="zh-cn_topic_0141836082_row960411474814"><th class="cellrowborder" valign="top" width="20.62%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0141836082_p56047149488"><a name="zh-cn_topic_0141836082_p56047149488"></a><a name="zh-cn_topic_0141836082_p56047149488"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="9.36%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0141836082_p166041214194817"><a name="zh-cn_topic_0141836082_p166041214194817"></a><a name="zh-cn_topic_0141836082_p166041214194817"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="70.02000000000001%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0141836082_p16604101410480"><a name="zh-cn_topic_0141836082_p16604101410480"></a><a name="zh-cn_topic_0141836082_p16604101410480"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0141836082_row18604191416483"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p5604814124811"><a name="zh-cn_topic_0141836082_p5604814124811"></a><a name="zh-cn_topic_0141836082_p5604814124811"></a>数据连接名称</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p15604161444816"><a name="zh-cn_topic_0141836082_p15604161444816"></a><a name="zh-cn_topic_0141836082_p15604161444816"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p1260419148486"><a name="zh-cn_topic_0141836082_p1260419148486"></a><a name="zh-cn_topic_0141836082_p1260419148486"></a>数据连接的名称，只能包含英文字母、数字、下划线和中划线，且长度为1~50个字符。</p>
</td>
</tr>
<tr id="row5643192684012"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p18643826144020"><a name="p18643826144020"></a><a name="p18643826144020"></a>标签</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p664352613407"><a name="p664352613407"></a><a name="p664352613407"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p146438263409"><a name="p146438263409"></a><a name="p146438263409"></a>标识数据连接的属性。设置标签后，便于统一管理。可自行设置标签，也可在下拉框中选择已在<a href="标签管理.md">标签管理</a>中创建的标签。</p>
<div class="note" id="note176631533141415"><a name="note176631533141415"></a><a name="note176631533141415"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p1766312333147"><a name="p1766312333147"></a><a name="p1766312333147"></a>标签的名称，只能包含中文、英文字母、数字和下划线，不能以下划线开头。且长度不能超过100个字符。</p>
</div></div>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row46042014144815"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p56041414104812"><a name="zh-cn_topic_0141836082_p56041414104812"></a><a name="zh-cn_topic_0141836082_p56041414104812"></a>集群名</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p146041014124815"><a name="zh-cn_topic_0141836082_p146041014124815"></a><a name="zh-cn_topic_0141836082_p146041014124815"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p6604111410482"><a name="zh-cn_topic_0141836082_p6604111410482"></a><a name="zh-cn_topic_0141836082_p6604111410482"></a>选择HBase所属的MRS集群。如果在下拉列表中无法显示MRS集群，请检查MRS集群与<span id="text183715130359"><a name="text183715130359"></a><a name="text183715130359"></a>DGC</span>实例是否网络互通。</p>
<div class="p" id="p7640152933511"><a name="p7640152933511"></a><a name="p7640152933511"></a>需确保MRS集群和<span id="dgc_01_0009_text20329182914416"><a name="dgc_01_0009_text20329182914416"></a><a name="dgc_01_0009_text20329182914416"></a>DGC</span>实例之间网络互通，网络互通需满足如下条件：<a name="dgc_01_0009_ul1715617232281"></a><a name="dgc_01_0009_ul1715617232281"></a><ul id="dgc_01_0009_ul1715617232281"><li><span id="dgc_01_0009_text1205999218"><a name="dgc_01_0009_text1205999218"></a><a name="dgc_01_0009_text1205999218"></a>DGC</span>实例（指<span id="dgc_01_0009_text5205499217"><a name="dgc_01_0009_text5205499217"></a><a name="dgc_01_0009_text5205499217"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群处于不同区域的情况下，需要通过公网或者专线打通网络。</li><li><span id="dgc_01_0009_text1020589624"><a name="dgc_01_0009_text1020589624"></a><a name="dgc_01_0009_text1020589624"></a>DGC</span>实例（指<span id="dgc_01_0009_text72051795219"><a name="dgc_01_0009_text72051795219"></a><a name="dgc_01_0009_text72051795219"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群同区域情况下，同虚拟私有云、同子网、同安全组的不同实例默认网络互通；如果同虚拟私有云但子网或安全组不同，还需配置路由规则及安全组规则，配置路由规则请参见<a href="https://support.huaweicloud.com/bestpractice-vpc/bestpractice_0009.html#bestpractice_0009__zh-cn_topic_0252060877_li16617547103419" target="_blank" rel="noopener noreferrer">如何配置路由规则</a>章节，配置安全组规则请参见<a href="https://support.huaweicloud.com/usermanual-ecs/zh-cn_topic_0140323152.html" target="_blank" rel="noopener noreferrer">如何配置安全组规则</a>章节。</li><li>此外，还需确保该MRS集群与<span id="dgc_01_0009_text4156132310284"><a name="dgc_01_0009_text4156132310284"></a><a name="dgc_01_0009_text4156132310284"></a>DGC</span>工作空间所属的企业项目相同，如果不同，您需要修改工作空间的企业项目。</li></ul>
</div>
</td>
</tr>
<tr id="row3218524154414"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p021842424419"><a name="p021842424419"></a><a name="p021842424419"></a>用户名</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p3584142213816"><a name="p3584142213816"></a><a name="p3584142213816"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p521982484417"><a name="p521982484417"></a><a name="p521982484417"></a>MRS集群的用户名，通过代理连接的时候，是必选项。</p>
<div class="p" id="p2358196152612"><a name="p2358196152612"></a><a name="p2358196152612"></a>如果要创建MRS安全集群的数据连接，不能使用admin用户。因为admin用户是默认的管理页面用户，这个用户无法作为安全集群的认证用户来使用。您可以参考<a href="创建数据连接.md#section52193714195">创建MRS安全集群的kerberos认证用户</a>创建一个新的MRS用户，然后在创建MRS数据连接时，<span class="parmname" id="dgc_01_0009_parmname3468191262313_1"><a name="dgc_01_0009_parmname3468191262313_1"></a><a name="dgc_01_0009_parmname3468191262313_1"></a>“用户名”</span>和<span class="parmname" id="dgc_01_0009_parmname64683124231_1"><a name="dgc_01_0009_parmname64683124231_1"></a><a name="dgc_01_0009_parmname64683124231_1"></a>“密码”</span>填写为新建的MRS用户及其密码。<div class="note" id="dgc_01_0009_note15451659151217_1"><a name="dgc_01_0009_note15451659151217_1"></a><a name="dgc_01_0009_note15451659151217_1"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="dgc_01_0009_ul17715141011134_1"></a><a name="dgc_01_0009_ul17715141011134_1"></a><ul id="dgc_01_0009_ul17715141011134_1"><li>MRS 3.1.0及之后版本集群，所创建的用户至少需具备Manager_viewer的角色权限才能在管理中心创建连接；如果需要对应组件的进行库、表、数据的操作，还需要添加对应组件的用户组权限。</li><li>MRS 3.1.0版本之前的集群，所创建的用户需要具备Manager_administrator或System_administrator权限，才能在管理中心创建连接。</li><li>仅具备Manager_tenant或Manager_auditor权限，无法创建连接。</li></ul>
</div></div>
</div>
</td>
</tr>
<tr id="row1674021104415"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p07412118443"><a name="p07412118443"></a><a name="p07412118443"></a>密码</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p15450723153812"><a name="p15450723153812"></a><a name="p15450723153812"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p4741521194417"><a name="p4741521194417"></a><a name="p4741521194417"></a>MRS集群的访问密码。</p>
</td>
</tr>
<tr id="row1954712184414"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p8955131216449"><a name="p8955131216449"></a><a name="p8955131216449"></a>KMS密钥</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p1944224113810"><a name="p1944224113810"></a><a name="p1944224113810"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p189558127445"><a name="p189558127445"></a><a name="p189558127445"></a>KMS密钥名称。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row86049147485"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p1160416144488"><a name="zh-cn_topic_0141836082_p1160416144488"></a><a name="zh-cn_topic_0141836082_p1160416144488"></a>绑定Agent</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p8605814194820"><a name="zh-cn_topic_0141836082_p8605814194820"></a><a name="zh-cn_topic_0141836082_p8605814194820"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p176051414134818"><a name="zh-cn_topic_0141836082_p176051414134818"></a><a name="zh-cn_topic_0141836082_p176051414134818"></a>MRS为非全托管服务，<span id="text3501181714015"><a name="text3501181714015"></a><a name="text3501181714015"></a>DGC</span>无法直接与非全托管服务进行连接。<span id="text14507956135010"><a name="text14507956135010"></a><a name="text14507956135010"></a>批量数据迁移</span>集群提供了<span id="text165689181706"><a name="text165689181706"></a><a name="text165689181706"></a>DGC</span>与非全托管服务通信的代理，所以创建MRS HBase的数据连接时，请选择一个<span id="text6532182475117"><a name="text6532182475117"></a><a name="text6532182475117"></a>批量数据迁移</span>集群。如果没有可用的<span id="text843941010518"><a name="text843941010518"></a><a name="text843941010518"></a>批量数据迁移</span>集群，请先创建一个<span id="text1047716333514"><a name="text1047716333514"></a><a name="text1047716333514"></a>批量数据迁移</span>集群。</p>
</td>
</tr>
</tbody>
</table>

**表 4**  MRS Kafka数据连接

<a name="table2793143618161"></a>
<table><thead align="left"><tr id="row2794113613169"><th class="cellrowborder" valign="top" width="20.62%" id="mcps1.2.4.1.1"><p id="p127941336191614"><a name="p127941336191614"></a><a name="p127941336191614"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="9.36%" id="mcps1.2.4.1.2"><p id="p117943361163"><a name="p117943361163"></a><a name="p117943361163"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="70.02000000000001%" id="mcps1.2.4.1.3"><p id="p14794113681617"><a name="p14794113681617"></a><a name="p14794113681617"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row47941136181614"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p1794113611617"><a name="p1794113611617"></a><a name="p1794113611617"></a>数据连接名称</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p7794173619164"><a name="p7794173619164"></a><a name="p7794173619164"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p27942036171613"><a name="p27942036171613"></a><a name="p27942036171613"></a>数据连接的名称，只能包含英文字母、数字、下划线和中划线，且长度为1~50个字符。</p>
</td>
</tr>
<tr id="row11794123631610"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p14794103661610"><a name="p14794103661610"></a><a name="p14794103661610"></a>标签</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p579410364161"><a name="p579410364161"></a><a name="p579410364161"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p3794163651610"><a name="p3794163651610"></a><a name="p3794163651610"></a>标识数据连接的属性。设置标签后，便于统一管理。可自行设置标签，也可在下拉框中选择已在<a href="标签管理.md">标签管理</a>中创建的标签。</p>
<div class="note" id="note2087114271417"><a name="note2087114271417"></a><a name="note2087114271417"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p148815428149"><a name="p148815428149"></a><a name="p148815428149"></a>标签的名称，只能包含中文、英文字母、数字和下划线，不能以下划线开头。且长度不能超过100个字符。</p>
</div></div>
</td>
</tr>
<tr id="row679463651618"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p15794183610161"><a name="p15794183610161"></a><a name="p15794183610161"></a>集群名</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p14794143681616"><a name="p14794143681616"></a><a name="p14794143681616"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p37941936181615"><a name="p37941936181615"></a><a name="p37941936181615"></a>选择Kafka所属的MRS集群。如果在下拉列表中无法显示MRS集群，请检查MRS集群与<span id="text7523191815358"><a name="text7523191815358"></a><a name="text7523191815358"></a>DGC</span>实例是否网络互通。</p>
<div class="p" id="p44215576356"><a name="p44215576356"></a><a name="p44215576356"></a>需确保MRS集群和<span id="dgc_01_0009_text20329182914416_1"><a name="dgc_01_0009_text20329182914416_1"></a><a name="dgc_01_0009_text20329182914416_1"></a>DGC</span>实例之间网络互通，网络互通需满足如下条件：<a name="dgc_01_0009_ul1715617232281_1"></a><a name="dgc_01_0009_ul1715617232281_1"></a><ul id="dgc_01_0009_ul1715617232281_1"><li><span id="dgc_01_0009_text1205999218_1"><a name="dgc_01_0009_text1205999218_1"></a><a name="dgc_01_0009_text1205999218_1"></a>DGC</span>实例（指<span id="dgc_01_0009_text5205499217_1"><a name="dgc_01_0009_text5205499217_1"></a><a name="dgc_01_0009_text5205499217_1"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群处于不同区域的情况下，需要通过公网或者专线打通网络。</li><li><span id="dgc_01_0009_text1020589624_1"><a name="dgc_01_0009_text1020589624_1"></a><a name="dgc_01_0009_text1020589624_1"></a>DGC</span>实例（指<span id="dgc_01_0009_text72051795219_1"><a name="dgc_01_0009_text72051795219_1"></a><a name="dgc_01_0009_text72051795219_1"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群同区域情况下，同虚拟私有云、同子网、同安全组的不同实例默认网络互通；如果同虚拟私有云但子网或安全组不同，还需配置路由规则及安全组规则，配置路由规则请参见<a href="https://support.huaweicloud.com/bestpractice-vpc/bestpractice_0009.html#bestpractice_0009__zh-cn_topic_0252060877_li16617547103419" target="_blank" rel="noopener noreferrer">如何配置路由规则</a>章节，配置安全组规则请参见<a href="https://support.huaweicloud.com/usermanual-ecs/zh-cn_topic_0140323152.html" target="_blank" rel="noopener noreferrer">如何配置安全组规则</a>章节。</li><li>此外，还需确保该MRS集群与<span id="dgc_01_0009_text4156132310284_1"><a name="dgc_01_0009_text4156132310284_1"></a><a name="dgc_01_0009_text4156132310284_1"></a>DGC</span>工作空间所属的企业项目相同，如果不同，您需要修改工作空间的企业项目。</li></ul>
</div>
</td>
</tr>
<tr id="row47951636171617"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p15795113681620"><a name="p15795113681620"></a><a name="p15795113681620"></a>用户名</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p67951036121617"><a name="p67951036121617"></a><a name="p67951036121617"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p67956368167"><a name="p67956368167"></a><a name="p67956368167"></a>MRS集群的用户名，通过代理连接的时候，是必选项。</p>
<div class="p" id="p21017146254"><a name="p21017146254"></a><a name="p21017146254"></a>如果要创建MRS安全集群的数据连接，不能使用admin用户。因为admin用户是默认的管理页面用户，这个用户无法作为安全集群的认证用户来使用。您可以参考<a href="创建数据连接.md#section52193714195">创建MRS安全集群的kerberos认证用户</a>创建一个新的MRS用户，然后在创建MRS数据连接时，<span class="parmname" id="dgc_01_0009_parmname3468191262313_2"><a name="dgc_01_0009_parmname3468191262313_2"></a><a name="dgc_01_0009_parmname3468191262313_2"></a>“用户名”</span>和<span class="parmname" id="dgc_01_0009_parmname64683124231_2"><a name="dgc_01_0009_parmname64683124231_2"></a><a name="dgc_01_0009_parmname64683124231_2"></a>“密码”</span>填写为新建的MRS用户及其密码。<div class="note" id="dgc_01_0009_note15451659151217_2"><a name="dgc_01_0009_note15451659151217_2"></a><a name="dgc_01_0009_note15451659151217_2"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="dgc_01_0009_ul17715141011134_2"></a><a name="dgc_01_0009_ul17715141011134_2"></a><ul id="dgc_01_0009_ul17715141011134_2"><li>MRS 3.1.0及之后版本集群，所创建的用户至少需具备Manager_viewer的角色权限才能在管理中心创建连接；如果需要对应组件的进行库、表、数据的操作，还需要添加对应组件的用户组权限。</li><li>MRS 3.1.0版本之前的集群，所创建的用户需要具备Manager_administrator或System_administrator权限，才能在管理中心创建连接。</li><li>仅具备Manager_tenant或Manager_auditor权限，无法创建连接。</li></ul>
</div></div>
</div>
</td>
</tr>
<tr id="row13795143617169"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p1795836131615"><a name="p1795836131615"></a><a name="p1795836131615"></a>密码</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p379515364164"><a name="p379515364164"></a><a name="p379515364164"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p640015468714"><a name="p640015468714"></a><a name="p640015468714"></a>MRS集群的访问密码。</p>
</td>
</tr>
<tr id="row6433141905711"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p4192920125715"><a name="p4192920125715"></a><a name="p4192920125715"></a>KMS密钥</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p19192152055710"><a name="p19192152055710"></a><a name="p19192152055710"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p141928205575"><a name="p141928205575"></a><a name="p141928205575"></a>KMS密钥名称。</p>
</td>
</tr>
<tr id="row1279514367169"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p1579693611162"><a name="p1579693611162"></a><a name="p1579693611162"></a>绑定Agent</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p679643631612"><a name="p679643631612"></a><a name="p679643631612"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p137961836191612"><a name="p137961836191612"></a><a name="p137961836191612"></a>MRS为非全托管服务，<span id="text6525131914013"><a name="text6525131914013"></a><a name="text6525131914013"></a>DGC</span>无法直接与非全托管服务进行连接。<span id="text127967368163"><a name="text127967368163"></a><a name="text127967368163"></a>批量数据迁移</span>集群提供了<span id="text8567162013020"><a name="text8567162013020"></a><a name="text8567162013020"></a>DGC</span>与非全托管服务通信的代理，所以创建MRS Kafka的数据连接时，请选择一个<span id="text979693618161"><a name="text979693618161"></a><a name="text979693618161"></a>批量数据迁移</span>集群。如果没有可用的<span id="text15796143613164"><a name="text15796143613164"></a><a name="text15796143613164"></a>批量数据迁移</span>集群，请先创建一个<span id="text079643617164"><a name="text079643617164"></a><a name="text079643617164"></a>批量数据迁移</span>集群。</p>
</td>
</tr>
</tbody>
</table>

**表 5**  MRS Spark数据连接

<a name="zh-cn_topic_0141836082_table10248171110208"></a>
<table><thead align="left"><tr id="zh-cn_topic_0141836082_row2249121114208"><th class="cellrowborder" valign="top" width="21.07%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0141836082_p14249191182012"><a name="zh-cn_topic_0141836082_p14249191182012"></a><a name="zh-cn_topic_0141836082_p14249191182012"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="9.25%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0141836082_p1424971113203"><a name="zh-cn_topic_0141836082_p1424971113203"></a><a name="zh-cn_topic_0141836082_p1424971113203"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="69.67999999999999%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0141836082_p1249121152011"><a name="zh-cn_topic_0141836082_p1249121152011"></a><a name="zh-cn_topic_0141836082_p1249121152011"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0141836082_row1924961152017"><td class="cellrowborder" valign="top" width="21.07%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p52491111192012"><a name="zh-cn_topic_0141836082_p52491111192012"></a><a name="zh-cn_topic_0141836082_p52491111192012"></a>数据连接名称</p>
</td>
<td class="cellrowborder" valign="top" width="9.25%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p132491511102019"><a name="zh-cn_topic_0141836082_p132491511102019"></a><a name="zh-cn_topic_0141836082_p132491511102019"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.67999999999999%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p14249201142013"><a name="zh-cn_topic_0141836082_p14249201142013"></a><a name="zh-cn_topic_0141836082_p14249201142013"></a>数据连接的名称，只能包含英文字母、数字、下划线和中划线，且长度为1~50个字符。</p>
</td>
</tr>
<tr id="row195931948134516"><td class="cellrowborder" valign="top" width="21.07%" headers="mcps1.2.4.1.1 "><p id="p659474815459"><a name="p659474815459"></a><a name="p659474815459"></a>标签</p>
</td>
<td class="cellrowborder" valign="top" width="9.25%" headers="mcps1.2.4.1.2 "><p id="p15594124811458"><a name="p15594124811458"></a><a name="p15594124811458"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="69.67999999999999%" headers="mcps1.2.4.1.3 "><p id="p559444815452"><a name="p559444815452"></a><a name="p559444815452"></a>标识数据连接的属性。设置标签后，便于统一管理。可自行设置标签，也可在下拉框中选择已在<a href="标签管理.md">标签管理</a>中创建的标签。</p>
<div class="note" id="note264344921415"><a name="note264344921415"></a><a name="note264344921415"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p16643749161418"><a name="p16643749161418"></a><a name="p16643749161418"></a>标签的名称，只能包含中文、英文字母、数字和下划线，不能以下划线开头。且长度不能超过100个字符。</p>
</div></div>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row152491011142019"><td class="cellrowborder" valign="top" width="21.07%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p11249141113201"><a name="zh-cn_topic_0141836082_p11249141113201"></a><a name="zh-cn_topic_0141836082_p11249141113201"></a>集群名</p>
</td>
<td class="cellrowborder" valign="top" width="9.25%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p52491811152012"><a name="zh-cn_topic_0141836082_p52491811152012"></a><a name="zh-cn_topic_0141836082_p52491811152012"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.67999999999999%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p1324951142017"><a name="zh-cn_topic_0141836082_p1324951142017"></a><a name="zh-cn_topic_0141836082_p1324951142017"></a>选择Spark所属的MRS集群名称。如果在下拉列表中无法显示MRS集群，请检查MRS集群与<span id="text768082133513"><a name="text768082133513"></a><a name="text768082133513"></a>DGC</span>实例是否网络互通。</p>
<div class="p" id="p514801203616"><a name="p514801203616"></a><a name="p514801203616"></a>需确保MRS集群和<span id="dgc_01_0009_text20329182914416_2"><a name="dgc_01_0009_text20329182914416_2"></a><a name="dgc_01_0009_text20329182914416_2"></a>DGC</span>实例之间网络互通，网络互通需满足如下条件：<a name="dgc_01_0009_ul1715617232281_2"></a><a name="dgc_01_0009_ul1715617232281_2"></a><ul id="dgc_01_0009_ul1715617232281_2"><li><span id="dgc_01_0009_text1205999218_2"><a name="dgc_01_0009_text1205999218_2"></a><a name="dgc_01_0009_text1205999218_2"></a>DGC</span>实例（指<span id="dgc_01_0009_text5205499217_2"><a name="dgc_01_0009_text5205499217_2"></a><a name="dgc_01_0009_text5205499217_2"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群处于不同区域的情况下，需要通过公网或者专线打通网络。</li><li><span id="dgc_01_0009_text1020589624_2"><a name="dgc_01_0009_text1020589624_2"></a><a name="dgc_01_0009_text1020589624_2"></a>DGC</span>实例（指<span id="dgc_01_0009_text72051795219_2"><a name="dgc_01_0009_text72051795219_2"></a><a name="dgc_01_0009_text72051795219_2"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群同区域情况下，同虚拟私有云、同子网、同安全组的不同实例默认网络互通；如果同虚拟私有云但子网或安全组不同，还需配置路由规则及安全组规则，配置路由规则请参见<a href="https://support.huaweicloud.com/bestpractice-vpc/bestpractice_0009.html#bestpractice_0009__zh-cn_topic_0252060877_li16617547103419" target="_blank" rel="noopener noreferrer">如何配置路由规则</a>章节，配置安全组规则请参见<a href="https://support.huaweicloud.com/usermanual-ecs/zh-cn_topic_0140323152.html" target="_blank" rel="noopener noreferrer">如何配置安全组规则</a>章节。</li><li>此外，还需确保该MRS集群与<span id="dgc_01_0009_text4156132310284_2"><a name="dgc_01_0009_text4156132310284_2"></a><a name="dgc_01_0009_text4156132310284_2"></a>DGC</span>工作空间所属的企业项目相同，如果不同，您需要修改工作空间的企业项目。</li></ul>
</div>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row9925919142812"><td class="cellrowborder" valign="top" width="21.07%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p692611910282"><a name="zh-cn_topic_0141836082_p692611910282"></a><a name="zh-cn_topic_0141836082_p692611910282"></a>连接方式</p>
</td>
<td class="cellrowborder" valign="top" width="9.25%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p9926519152817"><a name="zh-cn_topic_0141836082_p9926519152817"></a><a name="zh-cn_topic_0141836082_p9926519152817"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.67999999999999%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p388718311950"><a name="zh-cn_topic_0141836082_p388718311950"></a><a name="zh-cn_topic_0141836082_p388718311950"></a>连接方式：</p>
<a name="zh-cn_topic_0141836082_ul12525271095"></a><a name="zh-cn_topic_0141836082_ul12525271095"></a><ul id="zh-cn_topic_0141836082_ul12525271095"><li>通过代理连接</li><li>MRS API连接<p id="p721682045210"><a name="p721682045210"></a><a name="p721682045210"></a>选择MRS API连接时，有这些约束：</p>
<a name="ol1416110265526"></a><a name="ol1416110265526"></a><ol id="ol1416110265526"><li>无法查看表和字段。</li><li>在SQL编辑器运行SQL时，只能以日志形式显示执行结果。</li><li>该直连方式数据治理功能无法使用。</li></ol>
</li></ul>
<div class="note" id="note1197511920256"><a name="note1197511920256"></a><a name="note1197511920256"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="ul16340102442517"></a><a name="ul16340102442517"></a><ul id="ul16340102442517"><li>通过直连连接方式连接，支持MRS2.X版本的安全和非安全集群。</li><li>通过代理连接方式连接，支持MRS所有版本的安全和非安全集群。</li></ul>
</div></div>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row20850755192810"><td class="cellrowborder" valign="top" width="21.07%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p1185016558282"><a name="zh-cn_topic_0141836082_p1185016558282"></a><a name="zh-cn_topic_0141836082_p1185016558282"></a>用户名</p>
</td>
<td class="cellrowborder" valign="top" width="9.25%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p48502055112814"><a name="zh-cn_topic_0141836082_p48502055112814"></a><a name="zh-cn_topic_0141836082_p48502055112814"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="69.67999999999999%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p187071014171210"><a name="zh-cn_topic_0141836082_p187071014171210"></a><a name="zh-cn_topic_0141836082_p187071014171210"></a>MRS集群的用户名，通过代理连接的时候，是必选项。</p>
<div class="p" id="p0649165610432"><a name="p0649165610432"></a><a name="p0649165610432"></a>如果要创建MRS安全集群的数据连接，不能使用admin用户。因为admin用户是默认的管理页面用户，这个用户无法作为安全集群的认证用户来使用。您可以参考<a href="#section52193714195">创建MRS安全集群的kerberos认证用户</a>创建一个新的MRS用户，然后在创建MRS数据连接时，<span class="parmname" id="parmname3468191262313"><a name="parmname3468191262313"></a><a name="parmname3468191262313"></a>“用户名”</span>和<span class="parmname" id="parmname64683124231"><a name="parmname64683124231"></a><a name="parmname64683124231"></a>“密码”</span>填写为新建的MRS用户及其密码。<div class="note" id="note15451659151217"><a name="note15451659151217"></a><a name="note15451659151217"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="ul17715141011134"></a><a name="ul17715141011134"></a><ul id="ul17715141011134"><li>MRS 3.1.0及之后版本集群，所创建的用户至少需具备Manager_viewer的角色权限才能在管理中心创建连接；如果需要对应组件的进行库、表、数据的操作，还需要添加对应组件的用户组权限。</li><li>MRS 3.1.0版本之前的集群，所创建的用户需要具备Manager_administrator或System_administrator权限，才能在管理中心创建连接。</li><li>仅具备Manager_tenant或Manager_auditor权限，无法创建连接。</li></ul>
</div></div>
</div>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row13715317292"><td class="cellrowborder" valign="top" width="21.07%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p177134291"><a name="zh-cn_topic_0141836082_p177134291"></a><a name="zh-cn_topic_0141836082_p177134291"></a>密码</p>
</td>
<td class="cellrowborder" valign="top" width="9.25%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p138436295"><a name="zh-cn_topic_0141836082_p138436295"></a><a name="zh-cn_topic_0141836082_p138436295"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="69.67999999999999%" headers="mcps1.2.4.1.3 "><p id="p123523714317"><a name="p123523714317"></a><a name="p123523714317"></a>MRS集群的访问密码，通过代理连接的时候，是必选项。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row175132154291"><td class="cellrowborder" valign="top" width="21.07%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p5513131512910"><a name="zh-cn_topic_0141836082_p5513131512910"></a><a name="zh-cn_topic_0141836082_p5513131512910"></a>KMS密钥</p>
</td>
<td class="cellrowborder" valign="top" width="9.25%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p55131315162913"><a name="zh-cn_topic_0141836082_p55131315162913"></a><a name="zh-cn_topic_0141836082_p55131315162913"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="69.67999999999999%" headers="mcps1.2.4.1.3 "><p id="p235287163110"><a name="p235287163110"></a><a name="p235287163110"></a>KMS密钥名称。通过代理连接的时候，是必选项。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row1249161118208"><td class="cellrowborder" valign="top" width="21.07%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p122491711172010"><a name="zh-cn_topic_0141836082_p122491711172010"></a><a name="zh-cn_topic_0141836082_p122491711172010"></a>绑定Agent</p>
</td>
<td class="cellrowborder" valign="top" width="9.25%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p112818227192"><a name="zh-cn_topic_0141836082_p112818227192"></a><a name="zh-cn_topic_0141836082_p112818227192"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="69.67999999999999%" headers="mcps1.2.4.1.3 "><p id="p7477915730"><a name="p7477915730"></a><a name="p7477915730"></a>通过代理连接的时候，是必选项。</p>
<p id="zh-cn_topic_0141836082_p225071142013"><a name="zh-cn_topic_0141836082_p225071142013"></a><a name="zh-cn_topic_0141836082_p225071142013"></a>MRS为非全托管服务，<span id="text24757216017"><a name="text24757216017"></a><a name="text24757216017"></a>DGC</span>无法直接与非全托管服务进行连接。<span id="text7647125105112"><a name="text7647125105112"></a><a name="text7647125105112"></a>批量数据迁移</span>集群提供了<span id="text5608222103"><a name="text5608222103"></a><a name="text5608222103"></a>DGC</span>与非全托管服务通信的代理，所以创建Spark SQL的数据连接时，请选择一个<span id="text1570114115211"><a name="text1570114115211"></a><a name="text1570114115211"></a>批量数据迁移</span>集群。如果没有可用的<span id="text1037191220527"><a name="text1037191220527"></a><a name="text1037191220527"></a>批量数据迁移</span>集群，请先创建一个<span id="text19154141505210"><a name="text19154141505210"></a><a name="text19154141505210"></a>批量数据迁移</span>集群。</p>
<p id="p15981713214"><a name="p15981713214"></a><a name="p15981713214"></a><span id="text1184834115912"><a name="text1184834115912"></a><a name="text1184834115912"></a>批量数据迁移</span>集群作为网络代理，必须和MRS集群网络互通才可以成功创建MRS连接，为确保两者网络互通，<span id="text6311586017"><a name="text6311586017"></a><a name="text6311586017"></a>批量数据迁移</span>集群必须和MRS集群处于相同的区域、可用区、VPC和子网，安全组规则需允许两者网络互通。</p>
</td>
</tr>
</tbody>
</table>

**表 6**  RDS数据连接

<a name="zh-cn_topic_0141836082_table126135615295"></a>
<table><thead align="left"><tr id="zh-cn_topic_0141836082_row14785613295"><th class="cellrowborder" valign="top" width="21.18%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0141836082_p77135618295"><a name="zh-cn_topic_0141836082_p77135618295"></a><a name="zh-cn_topic_0141836082_p77135618295"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="9.47%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0141836082_p6712562296"><a name="zh-cn_topic_0141836082_p6712562296"></a><a name="zh-cn_topic_0141836082_p6712562296"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="69.35%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0141836082_p117756132916"><a name="zh-cn_topic_0141836082_p117756132916"></a><a name="zh-cn_topic_0141836082_p117756132916"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0141836082_row14755612299"><td class="cellrowborder" valign="top" width="21.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p97135682918"><a name="zh-cn_topic_0141836082_p97135682918"></a><a name="zh-cn_topic_0141836082_p97135682918"></a>数据连接名称</p>
</td>
<td class="cellrowborder" valign="top" width="9.47%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p10815619295"><a name="zh-cn_topic_0141836082_p10815619295"></a><a name="zh-cn_topic_0141836082_p10815619295"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.35%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p98125614294"><a name="zh-cn_topic_0141836082_p98125614294"></a><a name="zh-cn_topic_0141836082_p98125614294"></a>数据连接的名称，只能包含英文字母、数字、下划线和中划线，且长度为1~50个字符。</p>
</td>
</tr>
<tr id="row16372172795310"><td class="cellrowborder" valign="top" width="21.18%" headers="mcps1.2.4.1.1 "><p id="p13373172711538"><a name="p13373172711538"></a><a name="p13373172711538"></a>标签</p>
</td>
<td class="cellrowborder" valign="top" width="9.47%" headers="mcps1.2.4.1.2 "><p id="p237472715316"><a name="p237472715316"></a><a name="p237472715316"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="69.35%" headers="mcps1.2.4.1.3 "><p id="p17374112714538"><a name="p17374112714538"></a><a name="p17374112714538"></a>标识数据连接的属性。设置标签后，便于统一管理。可自行设置标签，也可在下拉框中选择已在<a href="标签管理.md">标签管理</a>中创建的标签。</p>
<div class="note" id="note1310813585146"><a name="note1310813585146"></a><a name="note1310813585146"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p161081258121413"><a name="p161081258121413"></a><a name="p161081258121413"></a>标签的名称，只能包含中文、英文字母、数字和下划线，不能以下划线开头。且长度不能超过100个字符。</p>
</div></div>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row26676209301"><td class="cellrowborder" valign="top" width="21.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p17667152013013"><a name="zh-cn_topic_0141836082_p17667152013013"></a><a name="zh-cn_topic_0141836082_p17667152013013"></a>IP</p>
</td>
<td class="cellrowborder" valign="top" width="9.47%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p366762043017"><a name="zh-cn_topic_0141836082_p366762043017"></a><a name="zh-cn_topic_0141836082_p366762043017"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.35%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p184519401478"><a name="zh-cn_topic_0141836082_p184519401478"></a><a name="zh-cn_topic_0141836082_p184519401478"></a>RDS的访问地址。</p>
<p id="zh-cn_topic_0141836082_p168692405472"><a name="zh-cn_topic_0141836082_p168692405472"></a><a name="zh-cn_topic_0141836082_p168692405472"></a>如果为RDS数据源，可以通过RDS管理控制台获取访问地址：</p>
<a name="zh-cn_topic_0141836082_ol126164591245"></a><a name="zh-cn_topic_0141836082_ol126164591245"></a><ol id="zh-cn_topic_0141836082_ol126164591245"><li>根据<span id="text148091738103720"><a name="text148091738103720"></a><a name="text148091738103720"></a>注册</span>的帐号登录管理控制台。</li><li>单击“关系型数据库服务”，从左侧列表选择实例管理。</li><li>单击某一个实例名称，进入实例基本信息页面。</li></ol>
<p id="zh-cn_topic_0141836082_p18696408479"><a name="zh-cn_topic_0141836082_p18696408479"></a><a name="zh-cn_topic_0141836082_p18696408479"></a>在连接信息标签中可以获取到内网地址。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row1550872653018"><td class="cellrowborder" valign="top" width="21.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p6509926153010"><a name="zh-cn_topic_0141836082_p6509926153010"></a><a name="zh-cn_topic_0141836082_p6509926153010"></a>端口</p>
</td>
<td class="cellrowborder" valign="top" width="9.47%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p175097264306"><a name="zh-cn_topic_0141836082_p175097264306"></a><a name="zh-cn_topic_0141836082_p175097264306"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.35%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p067145020470"><a name="zh-cn_topic_0141836082_p067145020470"></a><a name="zh-cn_topic_0141836082_p067145020470"></a>RDS的访问端口。</p>
<p id="zh-cn_topic_0141836082_p1120445112473"><a name="zh-cn_topic_0141836082_p1120445112473"></a><a name="zh-cn_topic_0141836082_p1120445112473"></a>如果为RDS数据源，可以通过RDS管理控制台获取访问端口：</p>
<a name="zh-cn_topic_0141836082_ol1691415261753"></a><a name="zh-cn_topic_0141836082_ol1691415261753"></a><ol id="zh-cn_topic_0141836082_ol1691415261753"><li>根据注册的帐号登录管理控制台。</li><li>单击“关系型数据库服务”，左侧列表选择实例管理。</li><li>单击某一个实例名称，进入实例基本信息页面。</li></ol>
<p id="zh-cn_topic_0141836082_p11204175119477"><a name="zh-cn_topic_0141836082_p11204175119477"></a><a name="zh-cn_topic_0141836082_p11204175119477"></a>在连接信息标签中可以获取到数据库端口。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row202902023183018"><td class="cellrowborder" valign="top" width="21.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p929018238300"><a name="zh-cn_topic_0141836082_p929018238300"></a><a name="zh-cn_topic_0141836082_p929018238300"></a>驱动程序名称</p>
</td>
<td class="cellrowborder" valign="top" width="9.47%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p1029032317305"><a name="zh-cn_topic_0141836082_p1029032317305"></a><a name="zh-cn_topic_0141836082_p1029032317305"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.35%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p112291258112417"><a name="zh-cn_topic_0141836082_p112291258112417"></a><a name="zh-cn_topic_0141836082_p112291258112417"></a>驱动程序名称：</p>
<a name="zh-cn_topic_0141836082_ul0230558162416"></a><a name="zh-cn_topic_0141836082_ul0230558162416"></a><ul id="zh-cn_topic_0141836082_ul0230558162416"><li>com.mysql.jdbc.Driver</li><li>org.postgresql.Driver</li></ul>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row5818565297"><td class="cellrowborder" valign="top" width="21.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p178175682915"><a name="zh-cn_topic_0141836082_p178175682915"></a><a name="zh-cn_topic_0141836082_p178175682915"></a>驱动文件路径</p>
</td>
<td class="cellrowborder" valign="top" width="9.47%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p8895611293"><a name="zh-cn_topic_0141836082_p8895611293"></a><a name="zh-cn_topic_0141836082_p8895611293"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.35%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p860356132411"><a name="zh-cn_topic_0141836082_p860356132411"></a><a name="zh-cn_topic_0141836082_p860356132411"></a>驱动文件在OBS上的路径。需要您自行到官网下载.jar格式驱动并上传至OBS中。</p>
<a name="ul1675912820153"></a><a name="ul1675912820153"></a><ul id="ul1675912820153"><li>MySQL驱动：获取地址https://downloads.mysql.com/archives/c-j/，建议5.1.48版本。</li><li>PostgreSQL驱动：获取地址https://jdbc.postgresql.org/download.html，建议42.1.4版本。</li></ul>
<div class="note" id="note1120241418180"><a name="note1120241418180"></a><a name="note1120241418180"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p8202114151816"><a name="p8202114151816"></a><a name="p8202114151816"></a>如果需要更新驱动文件，则需要先在数据集成页面重启CDM集群，然后通过编辑数据连接的方式重新选择新版本驱动，更新驱动才能生效。</p>
</div></div>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row78155622914"><td class="cellrowborder" valign="top" width="21.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p1684561296"><a name="zh-cn_topic_0141836082_p1684561296"></a><a name="zh-cn_topic_0141836082_p1684561296"></a>用户名</p>
</td>
<td class="cellrowborder" valign="top" width="9.47%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p1781756152915"><a name="zh-cn_topic_0141836082_p1781756152915"></a><a name="zh-cn_topic_0141836082_p1781756152915"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.35%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p447915434228"><a name="zh-cn_topic_0141836082_p447915434228"></a><a name="zh-cn_topic_0141836082_p447915434228"></a>数据库的用户名，创建集群的时候，输入的用户名。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row98155617296"><td class="cellrowborder" valign="top" width="21.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p9815614295"><a name="zh-cn_topic_0141836082_p9815614295"></a><a name="zh-cn_topic_0141836082_p9815614295"></a>密码</p>
</td>
<td class="cellrowborder" valign="top" width="9.47%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p889561290"><a name="zh-cn_topic_0141836082_p889561290"></a><a name="zh-cn_topic_0141836082_p889561290"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.35%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p184791343132210"><a name="zh-cn_topic_0141836082_p184791343132210"></a><a name="zh-cn_topic_0141836082_p184791343132210"></a>数据库的访问密码，创建集群的时候，输入的密码。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row98135692916"><td class="cellrowborder" valign="top" width="21.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p8895642919"><a name="zh-cn_topic_0141836082_p8895642919"></a><a name="zh-cn_topic_0141836082_p8895642919"></a>KMS密钥</p>
</td>
<td class="cellrowborder" valign="top" width="9.47%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p188456152916"><a name="zh-cn_topic_0141836082_p188456152916"></a><a name="zh-cn_topic_0141836082_p188456152916"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.35%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p6479194318222"><a name="zh-cn_topic_0141836082_p6479194318222"></a><a name="zh-cn_topic_0141836082_p6479194318222"></a>KMS密钥名称。</p>
<p id="zh-cn_topic_0141836082_p737534116157"><a name="zh-cn_topic_0141836082_p737534116157"></a><a name="zh-cn_topic_0141836082_p737534116157"></a>通过KMS管理控制台获取密钥名称：</p>
<a name="zh-cn_topic_0141836082_ol1374275212517"></a><a name="zh-cn_topic_0141836082_ol1374275212517"></a><ol id="zh-cn_topic_0141836082_ol1374275212517"><li>根据注册的帐号登录管理控制台。</li><li>单击“密钥管理服务”，左侧列表选择密钥管理。</li></ol>
<p id="zh-cn_topic_0141836082_p4376741151510"><a name="zh-cn_topic_0141836082_p4376741151510"></a><a name="zh-cn_topic_0141836082_p4376741151510"></a>在密钥列表可以获取到密钥名称。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row138356102920"><td class="cellrowborder" valign="top" width="21.18%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p2995612299"><a name="zh-cn_topic_0141836082_p2995612299"></a><a name="zh-cn_topic_0141836082_p2995612299"></a>绑定Agent</p>
</td>
<td class="cellrowborder" valign="top" width="9.47%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p7919567292"><a name="zh-cn_topic_0141836082_p7919567292"></a><a name="zh-cn_topic_0141836082_p7919567292"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="69.35%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p4985642920"><a name="zh-cn_topic_0141836082_p4985642920"></a><a name="zh-cn_topic_0141836082_p4985642920"></a>RDS为非全托管服务，<span id="text178131223207"><a name="text178131223207"></a><a name="text178131223207"></a>DGC</span>无法直接与非全托管服务进行连接。<span id="text942832519522"><a name="text942832519522"></a><a name="text942832519522"></a>批量数据迁移</span>集群提供了<span id="text560102916011"><a name="text560102916011"></a><a name="text560102916011"></a>DGC</span>与非全托管服务通信的代理，所以创建RDS的数据连接时，请选择一个<span id="text10152172915527"><a name="text10152172915527"></a><a name="text10152172915527"></a>批量数据迁移</span>集群。如果没有可用的<span id="text1879163619529"><a name="text1879163619529"></a><a name="text1879163619529"></a>批量数据迁移</span>集群，请先创建一个<span id="text15105183245213"><a name="text15105183245213"></a><a name="text15105183245213"></a>批量数据迁移</span>集群。</p>
</td>
</tr>
</tbody>
</table>

**表 7**  DWS数据连接

<a name="zh-cn_topic_0141836082_table6376162616523"></a>
<table><thead align="left"><tr id="zh-cn_topic_0141836082_row10331275523"><th class="cellrowborder" valign="top" width="21.52%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0141836082_p2331227135217"><a name="zh-cn_topic_0141836082_p2331227135217"></a><a name="zh-cn_topic_0141836082_p2331227135217"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="9.81%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0141836082_p033152745213"><a name="zh-cn_topic_0141836082_p033152745213"></a><a name="zh-cn_topic_0141836082_p033152745213"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="68.67%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0141836082_p933192785217"><a name="zh-cn_topic_0141836082_p933192785217"></a><a name="zh-cn_topic_0141836082_p933192785217"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0141836082_row73322712520"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p433112785219"><a name="zh-cn_topic_0141836082_p433112785219"></a><a name="zh-cn_topic_0141836082_p433112785219"></a>数据连接名称</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p1833152711522"><a name="zh-cn_topic_0141836082_p1833152711522"></a><a name="zh-cn_topic_0141836082_p1833152711522"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p193372775211"><a name="zh-cn_topic_0141836082_p193372775211"></a><a name="zh-cn_topic_0141836082_p193372775211"></a>数据连接的名称，只能包含英文字母、数字、下划线和中划线，且长度为1~50个字符。</p>
</td>
</tr>
<tr id="row186884187567"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="p86891718185619"><a name="p86891718185619"></a><a name="p86891718185619"></a>标签</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="p8689181819566"><a name="p8689181819566"></a><a name="p8689181819566"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="p11689818105612"><a name="p11689818105612"></a><a name="p11689818105612"></a>标识数据连接的属性。设置标签后，便于统一管理。可自行设置标签，也可在下拉框中选择已在<a href="标签管理.md">标签管理</a>中创建的标签。</p>
<div class="note" id="note97121765158"><a name="note97121765158"></a><a name="note97121765158"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p107124612153"><a name="p107124612153"></a><a name="p107124612153"></a>标签的名称，只能包含中文、英文字母、数字和下划线，不能以下划线开头。且长度不能超过100个字符。</p>
</div></div>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row85665553579"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p3566205515718"><a name="zh-cn_topic_0141836082_p3566205515718"></a><a name="zh-cn_topic_0141836082_p3566205515718"></a>手动</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p5165171611438"><a name="zh-cn_topic_0141836082_p5165171611438"></a><a name="zh-cn_topic_0141836082_p5165171611438"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p11566105516575"><a name="zh-cn_topic_0141836082_p11566105516575"></a><a name="zh-cn_topic_0141836082_p11566105516575"></a>通过单击<a name="zh-cn_topic_0141836082_image119764401526"></a><a name="zh-cn_topic_0141836082_image119764401526"></a><span><img id="zh-cn_topic_0141836082_image119764401526" src="figures/wwx437827-中软基础平台部-DataSight-image-3b30109d-f938-4b00-b9a4-d46d87f9c3e3.png"></span>或<a name="zh-cn_topic_0141836082_image1099216406527"></a><a name="zh-cn_topic_0141836082_image1099216406527"></a><span><img id="zh-cn_topic_0141836082_image1099216406527" src="figures/wwx437827-中软基础平台部-DataSight-image-39d57622-7e8b-44d3-9618-6ec421edb74f.png"></span>来关闭或开启手动开关：</p>
<a name="ul397819617341"></a><a name="ul397819617341"></a><ul id="ul397819617341"><li>当“手动”关闭时候，<span class="parmname" id="parmname8363838143417"><a name="parmname8363838143417"></a><a name="parmname8363838143417"></a>“IP”</span>和<span class="parmname" id="parmname5117194615340"><a name="parmname5117194615340"></a><a name="parmname5117194615340"></a>“端口”</span>不需要填写。</li><li>当“手动”打开时候，<span class="parmname" id="parmname10628144910343"><a name="parmname10628144910343"></a><a name="parmname10628144910343"></a>“IP”</span>和<span class="parmname" id="parmname15883152163413"><a name="parmname15883152163413"></a><a name="parmname15883152163413"></a>“端口”</span>需要填写。</li></ul>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row1223798105810"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p1723710805818"><a name="zh-cn_topic_0141836082_p1723710805818"></a><a name="zh-cn_topic_0141836082_p1723710805818"></a>IP</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p0701746144311"><a name="zh-cn_topic_0141836082_p0701746144311"></a><a name="zh-cn_topic_0141836082_p0701746144311"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p341418228813"><a name="zh-cn_topic_0141836082_p341418228813"></a><a name="zh-cn_topic_0141836082_p341418228813"></a>“手动”打开时需要填写该项，表示通过内部网络访问集群数据库的IP地址。内网访问IP地址在创建集群时自动生成。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row370619114587"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p1470610114587"><a name="zh-cn_topic_0141836082_p1470610114587"></a><a name="zh-cn_topic_0141836082_p1470610114587"></a>端口</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p11354164814314"><a name="zh-cn_topic_0141836082_p11354164814314"></a><a name="zh-cn_topic_0141836082_p11354164814314"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p1091220122920"><a name="zh-cn_topic_0141836082_p1091220122920"></a><a name="zh-cn_topic_0141836082_p1091220122920"></a>“手动”打开时需要填写该项，表示创建DWS集群时指定的数据库端口号。请确保您已在安全组规则中开放此端口，以便<span id="text6666183819586"><a name="text6666183819586"></a><a name="text6666183819586"></a>DGC</span>实例可以通过该端口连接DWS集群数据库。</p>
</td>
</tr>
<tr id="row18044675113"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="p18048625113"><a name="p18048625113"></a><a name="p18048625113"></a>SSL连接</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="p10804961518"><a name="p10804961518"></a><a name="p10804961518"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="p17681928155310"><a name="p17681928155310"></a><a name="p17681928155310"></a>DWS支持SSL通道加密和证书认证两种方式进行客户端与服务器端的通信。您可以通过服务器端是否强制使用SSL连接进行设置。开关打开，即只能通过SSL方式连接。开关关闭，即两种方式均可。默认关闭。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row733122725220"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p1533182795213"><a name="zh-cn_topic_0141836082_p1533182795213"></a><a name="zh-cn_topic_0141836082_p1533182795213"></a>集群名</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p43352725212"><a name="zh-cn_topic_0141836082_p43352725212"></a><a name="zh-cn_topic_0141836082_p43352725212"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p1733172715214"><a name="zh-cn_topic_0141836082_p1733172715214"></a><a name="zh-cn_topic_0141836082_p1733172715214"></a>选择DWS集群。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row033327105212"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p1331327155219"><a name="zh-cn_topic_0141836082_p1331327155219"></a><a name="zh-cn_topic_0141836082_p1331327155219"></a>用户名</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p23315274525"><a name="zh-cn_topic_0141836082_p23315274525"></a><a name="zh-cn_topic_0141836082_p23315274525"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p2118142817472"><a name="zh-cn_topic_0141836082_p2118142817472"></a><a name="zh-cn_topic_0141836082_p2118142817472"></a>数据库的用户名，创建DWS集群时指定的用户名。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row1833627155213"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p1333162775210"><a name="zh-cn_topic_0141836082_p1333162775210"></a><a name="zh-cn_topic_0141836082_p1333162775210"></a>密码</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p193318279521"><a name="zh-cn_topic_0141836082_p193318279521"></a><a name="zh-cn_topic_0141836082_p193318279521"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p123581838125016"><a name="zh-cn_topic_0141836082_p123581838125016"></a><a name="zh-cn_topic_0141836082_p123581838125016"></a>数据库的访问密码，创建DWS集群时指定的密码。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row33317279521"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p43320271527"><a name="zh-cn_topic_0141836082_p43320271527"></a><a name="zh-cn_topic_0141836082_p43320271527"></a>KMS密钥</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p1833162715212"><a name="zh-cn_topic_0141836082_p1833162715212"></a><a name="zh-cn_topic_0141836082_p1833162715212"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p733627175215"><a name="zh-cn_topic_0141836082_p733627175215"></a><a name="zh-cn_topic_0141836082_p733627175215"></a>通过KMS加密和解密用户密码和密钥对的密码，选择KMS中已创建的密钥。</p>
</td>
</tr>
<tr id="row0789422174317"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="p17644927124314"><a name="p17644927124314"></a><a name="p17644927124314"></a>连接方式</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="p1644182744319"><a name="p1644182744319"></a><a name="p1644182744319"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="p764402704311"><a name="p764402704311"></a><a name="p764402704311"></a>连接方式：</p>
<a name="ul26441227194317"></a><a name="ul26441227194317"></a><ul id="ul26441227194317"><li>通过代理连接：需要配置<span class="parmname" id="parmname14455112010437"><a name="parmname14455112010437"></a><a name="parmname14455112010437"></a>“绑定Agent”</span>，绑定由批量数据迁移集群提供的代理服务。</li><li>直接连接</li></ul>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row633182715526"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p143319273527"><a name="zh-cn_topic_0141836082_p143319273527"></a><a name="zh-cn_topic_0141836082_p143319273527"></a>绑定Agent</p>
</td>
<td class="cellrowborder" valign="top" width="9.81%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p533132716529"><a name="zh-cn_topic_0141836082_p533132716529"></a><a name="zh-cn_topic_0141836082_p533132716529"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p15332027145213"><a name="zh-cn_topic_0141836082_p15332027145213"></a><a name="zh-cn_topic_0141836082_p15332027145213"></a><span id="text146042439526"><a name="text146042439526"></a><a name="text146042439526"></a>批量数据迁移</span>集群提供了<span id="text137741530503"><a name="text137741530503"></a><a name="text137741530503"></a>DGC</span>与非全托管服务通信的代理，所以创建DWS的数据连接时，请选择一个<span id="text11818164585218"><a name="text11818164585218"></a><a name="text11818164585218"></a>批量数据迁移</span>集群。如果没有可用的<span id="text1372924813528"><a name="text1372924813528"></a><a name="text1372924813528"></a>批量数据迁移</span>集群，请先创建一个<span id="text11365145210"><a name="text11365145210"></a><a name="text11365145210"></a>批量数据迁移</span>集群。</p>
</td>
</tr>
</tbody>
</table>

**表 8**  DLI数据连接

<a name="zh-cn_topic_0141836082_table5298126135216"></a>
<table><thead align="left"><tr id="zh-cn_topic_0141836082_row1233172712526"><th class="cellrowborder" valign="top" width="21.52%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0141836082_p15335274520"><a name="zh-cn_topic_0141836082_p15335274520"></a><a name="zh-cn_topic_0141836082_p15335274520"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="10.03%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0141836082_p11337275528"><a name="zh-cn_topic_0141836082_p11337275528"></a><a name="zh-cn_topic_0141836082_p11337275528"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="68.45%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0141836082_p1433727175214"><a name="zh-cn_topic_0141836082_p1433727175214"></a><a name="zh-cn_topic_0141836082_p1433727175214"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0141836082_row33310272521"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p533162717521"><a name="zh-cn_topic_0141836082_p533162717521"></a><a name="zh-cn_topic_0141836082_p533162717521"></a>数据连接名称</p>
</td>
<td class="cellrowborder" valign="top" width="10.03%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p203322717522"><a name="zh-cn_topic_0141836082_p203322717522"></a><a name="zh-cn_topic_0141836082_p203322717522"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="68.45%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p1233112765214"><a name="zh-cn_topic_0141836082_p1233112765214"></a><a name="zh-cn_topic_0141836082_p1233112765214"></a>数据连接的名称，只能包含英文字母、数字、下划线和中划线，且长度为1~50个字符。</p>
</td>
</tr>
<tr id="row127541022165814"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="p67541522155820"><a name="p67541522155820"></a><a name="p67541522155820"></a>标签</p>
</td>
<td class="cellrowborder" valign="top" width="10.03%" headers="mcps1.2.4.1.2 "><p id="p1775442265818"><a name="p1775442265818"></a><a name="p1775442265818"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="68.45%" headers="mcps1.2.4.1.3 "><p id="p1975511221580"><a name="p1975511221580"></a><a name="p1975511221580"></a>标识数据连接的属性。设置标签后，便于统一管理。可自行设置标签，也可在下拉框中选择已在<a href="标签管理.md">标签管理</a>中创建的标签。</p>
<div class="note" id="note1924712441510"><a name="note1924712441510"></a><a name="note1924712441510"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p424714248154"><a name="p424714248154"></a><a name="p424714248154"></a>标签的名称，只能包含中文、英文字母、数字和下划线，不能以下划线开头。且长度不能超过100个字符。</p>
</div></div>
</td>
</tr>
<tr id="zh-cn_topic_0141836082_row1285315355547"><td class="cellrowborder" valign="top" width="21.52%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836082_p13868143515543"><a name="zh-cn_topic_0141836082_p13868143515543"></a><a name="zh-cn_topic_0141836082_p13868143515543"></a>项目选择</p>
</td>
<td class="cellrowborder" valign="top" width="10.03%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836082_p88682354548"><a name="zh-cn_topic_0141836082_p88682354548"></a><a name="zh-cn_topic_0141836082_p88682354548"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="68.45%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836082_p686813517548"><a name="zh-cn_topic_0141836082_p686813517548"></a><a name="zh-cn_topic_0141836082_p686813517548"></a>选择项目名称，用以连接该租户在此项目下的DLI数据库。</p>
</td>
</tr>
</tbody>
</table>

**表 9**  Oracle数据连接

<a name="table44851027236"></a>
<table><thead align="left"><tr id="row74861924236"><th class="cellrowborder" valign="top" width="22.41224122412241%" id="mcps1.2.4.1.1"><p id="p1048610282314"><a name="p1048610282314"></a><a name="p1048610282314"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="10.371037103710371%" id="mcps1.2.4.1.2"><p id="p348652182317"><a name="p348652182317"></a><a name="p348652182317"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="67.21672167216722%" id="mcps1.2.4.1.3"><p id="p7486172112310"><a name="p7486172112310"></a><a name="p7486172112310"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row64861825234"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p1248720212318"><a name="p1248720212318"></a><a name="p1248720212318"></a>数据连接名称</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p164871027237"><a name="p164871027237"></a><a name="p164871027237"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p10487624232"><a name="p10487624232"></a><a name="p10487624232"></a>数据连接的名称，只能包含英文字母、数字、下划线和中划线，且长度为1~50个字符。</p>
</td>
</tr>
<tr id="row104876232311"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p18487923238"><a name="p18487923238"></a><a name="p18487923238"></a>标签</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p648702162313"><a name="p648702162313"></a><a name="p648702162313"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p194874211237"><a name="p194874211237"></a><a name="p194874211237"></a>标识数据连接的属性。设置标签后，便于统一管理。可自行设置标签，也可在下拉框中选择已在<a href="标签管理.md">标签管理</a>中创建的标签。</p>
<div class="note" id="note1848813232318"><a name="note1848813232318"></a><a name="note1848813232318"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p448820242313"><a name="p448820242313"></a><a name="p448820242313"></a>标签的名称，只能包含中文、英文字母、数字和下划线，不能以下划线开头。且长度不能超过100个字符。</p>
</div></div>
</td>
</tr>
<tr id="row1348852152311"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p94885212310"><a name="p94885212310"></a><a name="p94885212310"></a>IP</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p448852182314"><a name="p448852182314"></a><a name="p448852182314"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p17489142142315"><a name="p17489142142315"></a><a name="p17489142142315"></a>待连接的数据库IP地址，公网IP和内网IP地址均支持。</p>
</td>
</tr>
<tr id="row1348916212234"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p14489221233"><a name="p14489221233"></a><a name="p14489221233"></a>端口</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p14891123235"><a name="p14891123235"></a><a name="p14891123235"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p194896216233"><a name="p194896216233"></a><a name="p194896216233"></a>待连接的数据库端口。</p>
</td>
</tr>
<tr id="row2489122132319"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p17489226239"><a name="p17489226239"></a><a name="p17489226239"></a>用户名</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p11489182102312"><a name="p11489182102312"></a><a name="p11489182102312"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p144891628235"><a name="p144891628235"></a><a name="p144891628235"></a>待连接数据库的用户。该数据库用户需要有数据表的读写权限，以及对元数据的读取权限。</p>
</td>
</tr>
<tr id="row1348972182318"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p748917292318"><a name="p748917292318"></a><a name="p748917292318"></a>密码</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p13489182142313"><a name="p13489182142313"></a><a name="p13489182142313"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p34891282318"><a name="p34891282318"></a><a name="p34891282318"></a>用户密码。</p>
</td>
</tr>
<tr id="row15828172214259"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p128391022192519"><a name="p128391022192519"></a><a name="p128391022192519"></a>sid</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p7841122212253"><a name="p7841122212253"></a><a name="p7841122212253"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p9841102242519"><a name="p9841102242519"></a><a name="p9841102242519"></a>Oracle数据库的唯一标识符。</p>
</td>
</tr>
<tr id="row1348919212237"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p12490720232"><a name="p12490720232"></a><a name="p12490720232"></a>KMS密钥</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p449010215233"><a name="p449010215233"></a><a name="p449010215233"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p649016272313"><a name="p649016272313"></a><a name="p649016272313"></a>KMS密钥名称。</p>
<p id="p1490142172315"><a name="p1490142172315"></a><a name="p1490142172315"></a>通过KMS管理控制台获取密钥名称：</p>
<a name="ol1449011214231"></a><a name="ol1449011214231"></a><ol id="ol1449011214231"><li>根据创建的帐号登录管理控制台。</li><li>单击“密钥管理服务”，左侧列表选择密钥管理。</li></ol>
<p id="p114906292310"><a name="p114906292310"></a><a name="p114906292310"></a>在密钥列表可以获取到密钥名称。</p>
</td>
</tr>
<tr id="row164903212236"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p4490025239"><a name="p4490025239"></a><a name="p4490025239"></a>绑定Agent</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p9490192182313"><a name="p9490192182313"></a><a name="p9490192182313"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p847172017375"><a name="p847172017375"></a><a name="p847172017375"></a>Oracle为非全托管服务，<span id="text2471152013372"><a name="text2471152013372"></a><a name="text2471152013372"></a>DGC</span>无法直接与非全托管服务进行连接。<span id="text547111202375"><a name="text547111202375"></a><a name="text547111202375"></a>批量数据迁移</span>集群提供了<span id="text1647112017371"><a name="text1647112017371"></a><a name="text1647112017371"></a>DGC</span>与非全托管服务通信的代理，所以创建Oracle的数据连接时，请选择一个<span id="text1547114203372"><a name="text1547114203372"></a><a name="text1547114203372"></a>批量数据迁移</span>集群。如果没有可用的<span id="text13472112003713"><a name="text13472112003713"></a><a name="text13472112003713"></a>批量数据迁移</span>集群，请先创建一个<span id="text20472192020370"><a name="text20472192020370"></a><a name="text20472192020370"></a>批量数据迁移</span>集群。</p>
</td>
</tr>
</tbody>
</table>

**表 10**  DIS连接

<a name="table1817216287017"></a>
<table><thead align="left"><tr id="row717312817019"><th class="cellrowborder" valign="top" width="22.41224122412241%" id="mcps1.2.4.1.1"><p id="p9173142810015"><a name="p9173142810015"></a><a name="p9173142810015"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="10.371037103710371%" id="mcps1.2.4.1.2"><p id="p1317311284013"><a name="p1317311284013"></a><a name="p1317311284013"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="67.21672167216722%" id="mcps1.2.4.1.3"><p id="p317316281106"><a name="p317316281106"></a><a name="p317316281106"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row5173102810016"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p181736281806"><a name="p181736281806"></a><a name="p181736281806"></a>数据连接名称</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p181737281006"><a name="p181737281006"></a><a name="p181737281006"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p1817382816014"><a name="p1817382816014"></a><a name="p1817382816014"></a>数据连接的名称，只能包含英文字母、数字、下划线和中划线，且长度为1~50个字符。</p>
</td>
</tr>
<tr id="row13173628704"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p1817419281801"><a name="p1817419281801"></a><a name="p1817419281801"></a>标签</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p1317442818013"><a name="p1317442818013"></a><a name="p1317442818013"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p101741283016"><a name="p101741283016"></a><a name="p101741283016"></a>标识数据连接的属性。设置标签后，便于统一管理。可自行设置标签，也可在下拉框中选择已在<a href="标签管理.md">标签管理</a>中创建的标签。</p>
<div class="note" id="note2370143810157"><a name="note2370143810157"></a><a name="note2370143810157"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p1937133814151"><a name="p1937133814151"></a><a name="p1937133814151"></a>标签的名称，只能包含中文、英文字母、数字和下划线，不能以下划线开头。且长度不能超过100个字符。</p>
</div></div>
</td>
</tr>
<tr id="row21745288014"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p19645174516113"><a name="p19645174516113"></a><a name="p19645174516113"></a>目标项目ID</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p2636745910"><a name="p2636745910"></a><a name="p2636745910"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p0631194516116"><a name="p0631194516116"></a><a name="p0631194516116"></a>使用DIS Client节点发送消息至目标DIS通道时，目标通道所在的项目ID。</p>
</td>
</tr>
<tr id="row161752281017"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p1962744515112"><a name="p1962744515112"></a><a name="p1962744515112"></a>目标Region</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p1662514516114"><a name="p1662514516114"></a><a name="p1662514516114"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p26238451119"><a name="p26238451119"></a><a name="p26238451119"></a>使用DIS Client节点发送消息至目标DIS通道时，目标通道所在的Region。</p>
</td>
</tr>
<tr id="row31751628904"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p1662014519111"><a name="p1662014519111"></a><a name="p1662014519111"></a>Access Key</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p196189450118"><a name="p196189450118"></a><a name="p196189450118"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p1561515451618"><a name="p1561515451618"></a><a name="p1561515451618"></a>使用DIS Client节点发送消息至目标DIS通道时，创建目标通道的租户AK。</p>
</td>
</tr>
<tr id="row3176828702"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p186101459114"><a name="p186101459114"></a><a name="p186101459114"></a>Secret Key</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p16041445915"><a name="p16041445915"></a><a name="p16041445915"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p8601104515117"><a name="p8601104515117"></a><a name="p8601104515117"></a>使用DIS Client节点发送消息至目标DIS通道时，创建目标通道的租户SK。</p>
</td>
</tr>
<tr id="row135861349181612"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p19197175415162"><a name="p19197175415162"></a><a name="p19197175415162"></a>KMS密钥</p>
</td>
<td class="cellrowborder" valign="top" width="10.371037103710371%" headers="mcps1.2.4.1.2 "><p id="p819813545166"><a name="p819813545166"></a><a name="p819813545166"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.21672167216722%" headers="mcps1.2.4.1.3 "><p id="p3198135418166"><a name="p3198135418166"></a><a name="p3198135418166"></a>KMS密钥名称。</p>
<p id="p18198175461613"><a name="p18198175461613"></a><a name="p18198175461613"></a>通过KMS管理控制台获取密钥名称：</p>
<a name="ol219825417160"></a><a name="ol219825417160"></a><ol id="ol219825417160"><li>根据创建注册的帐号登录管理控制台。</li><li>单击“密钥管理服务”，左侧列表选择密钥管理。</li></ol>
<p id="p7198185441620"><a name="p7198185441620"></a><a name="p7198185441620"></a>在密钥列表可以获取到密钥名称。</p>
</td>
</tr>
</tbody>
</table>

**表 11**  MRS  Ranger连接

<a name="table2042554119528"></a>
<table><thead align="left"><tr id="row2426134118527"><th class="cellrowborder" valign="top" width="22.41224122412241%" id="mcps1.2.4.1.1"><p id="p1142654110528"><a name="p1142654110528"></a><a name="p1142654110528"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="10.36103610361036%" id="mcps1.2.4.1.2"><p id="p1942794115523"><a name="p1942794115523"></a><a name="p1942794115523"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="67.22672267226723%" id="mcps1.2.4.1.3"><p id="p1142718417524"><a name="p1142718417524"></a><a name="p1142718417524"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row5427104185212"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p18427154117524"><a name="p18427154117524"></a><a name="p18427154117524"></a>数据连接名称</p>
</td>
<td class="cellrowborder" valign="top" width="10.36103610361036%" headers="mcps1.2.4.1.2 "><p id="p542714155211"><a name="p542714155211"></a><a name="p542714155211"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.22672267226723%" headers="mcps1.2.4.1.3 "><p id="p1427154105212"><a name="p1427154105212"></a><a name="p1427154105212"></a>数据连接的名称，只能包含英文字母、数字、下划线和中划线，且长度为1~50个字符。</p>
</td>
</tr>
<tr id="row15427841125214"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p19427114125217"><a name="p19427114125217"></a><a name="p19427114125217"></a>标签</p>
</td>
<td class="cellrowborder" valign="top" width="10.36103610361036%" headers="mcps1.2.4.1.2 "><p id="p44278413527"><a name="p44278413527"></a><a name="p44278413527"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="67.22672267226723%" headers="mcps1.2.4.1.3 "><p id="p10427114116520"><a name="p10427114116520"></a><a name="p10427114116520"></a>标识数据连接的属性。设置标签后，便于统一管理。可自行设置标签，也可在下拉框中选择已在<a href="标签管理.md">标签管理</a>中创建的标签。</p>
<div class="note" id="note5427341115217"><a name="note5427341115217"></a><a name="note5427341115217"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p8428124115215"><a name="p8428124115215"></a><a name="p8428124115215"></a>标签的名称，只能包含中文、英文字母、数字和下划线，不能以下划线开头。且长度不能超过100个字符。</p>
</div></div>
</td>
</tr>
<tr id="row84282041155214"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p53140379289"><a name="p53140379289"></a><a name="p53140379289"></a>集群名</p>
</td>
<td class="cellrowborder" valign="top" width="10.36103610361036%" headers="mcps1.2.4.1.2 "><p id="p242814165210"><a name="p242814165210"></a><a name="p242814165210"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.22672267226723%" headers="mcps1.2.4.1.3 "><p id="p35833113518"><a name="p35833113518"></a><a name="p35833113518"></a>选择Ranger所属的MRS集群。如果在下拉列表中无法显示MRS集群，请检查MRS集群与<span id="text124911729144713"><a name="text124911729144713"></a><a name="text124911729144713"></a>DGC</span>实例是否网络互通。</p>
<div class="p" id="p1948563010471"><a name="p1948563010471"></a><a name="p1948563010471"></a>需确保MRS集群和<span id="dgc_01_0009_text20329182914416_3"><a name="dgc_01_0009_text20329182914416_3"></a><a name="dgc_01_0009_text20329182914416_3"></a>DGC</span>实例之间网络互通，网络互通需满足如下条件：<a name="dgc_01_0009_ul1715617232281_3"></a><a name="dgc_01_0009_ul1715617232281_3"></a><ul id="dgc_01_0009_ul1715617232281_3"><li><span id="dgc_01_0009_text1205999218_3"><a name="dgc_01_0009_text1205999218_3"></a><a name="dgc_01_0009_text1205999218_3"></a>DGC</span>实例（指<span id="dgc_01_0009_text5205499217_3"><a name="dgc_01_0009_text5205499217_3"></a><a name="dgc_01_0009_text5205499217_3"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群处于不同区域的情况下，需要通过公网或者专线打通网络。</li><li><span id="dgc_01_0009_text1020589624_3"><a name="dgc_01_0009_text1020589624_3"></a><a name="dgc_01_0009_text1020589624_3"></a>DGC</span>实例（指<span id="dgc_01_0009_text72051795219_3"><a name="dgc_01_0009_text72051795219_3"></a><a name="dgc_01_0009_text72051795219_3"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群同区域情况下，同虚拟私有云、同子网、同安全组的不同实例默认网络互通；如果同虚拟私有云但子网或安全组不同，还需配置路由规则及安全组规则，配置路由规则请参见<a href="https://support.huaweicloud.com/bestpractice-vpc/bestpractice_0009.html#bestpractice_0009__zh-cn_topic_0252060877_li16617547103419" target="_blank" rel="noopener noreferrer">如何配置路由规则</a>章节，配置安全组规则请参见<a href="https://support.huaweicloud.com/usermanual-ecs/zh-cn_topic_0140323152.html" target="_blank" rel="noopener noreferrer">如何配置安全组规则</a>章节。</li><li>此外，还需确保该MRS集群与<span id="dgc_01_0009_text4156132310284_3"><a name="dgc_01_0009_text4156132310284_3"></a><a name="dgc_01_0009_text4156132310284_3"></a>DGC</span>工作空间所属的企业项目相同，如果不同，您需要修改工作空间的企业项目。</li></ul>
</div>
</td>
</tr>
<tr id="row1542834116529"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p15649135353516"><a name="p15649135353516"></a><a name="p15649135353516"></a>用户名</p>
</td>
<td class="cellrowborder" valign="top" width="10.36103610361036%" headers="mcps1.2.4.1.2 "><p id="p15650145333518"><a name="p15650145333518"></a><a name="p15650145333518"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.22672267226723%" headers="mcps1.2.4.1.3 "><p id="p2278132965211"><a name="p2278132965211"></a><a name="p2278132965211"></a>MRS集群的用户名，通过代理连接的时候，是必选项。</p>
<div class="p" id="p727815295524"><a name="p727815295524"></a><a name="p727815295524"></a>如果要创建MRS安全集群的数据连接，不能使用admin用户。因为admin用户是默认的管理页面用户，这个用户无法作为安全集群的认证用户来使用。您可以参考<a href="创建数据连接.md#section52193714195">创建MRS安全集群的kerberos认证用户</a>创建一个新的MRS用户，然后在创建MRS数据连接时，<span class="parmname" id="dgc_01_0009_parmname3468191262313_3"><a name="dgc_01_0009_parmname3468191262313_3"></a><a name="dgc_01_0009_parmname3468191262313_3"></a>“用户名”</span>和<span class="parmname" id="dgc_01_0009_parmname64683124231_3"><a name="dgc_01_0009_parmname64683124231_3"></a><a name="dgc_01_0009_parmname64683124231_3"></a>“密码”</span>填写为新建的MRS用户及其密码。<div class="note" id="dgc_01_0009_note15451659151217_3"><a name="dgc_01_0009_note15451659151217_3"></a><a name="dgc_01_0009_note15451659151217_3"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="dgc_01_0009_ul17715141011134_3"></a><a name="dgc_01_0009_ul17715141011134_3"></a><ul id="dgc_01_0009_ul17715141011134_3"><li>MRS 3.1.0及之后版本集群，所创建的用户至少需具备Manager_viewer的角色权限才能在管理中心创建连接；如果需要对应组件的进行库、表、数据的操作，还需要添加对应组件的用户组权限。</li><li>MRS 3.1.0版本之前的集群，所创建的用户需要具备Manager_administrator或System_administrator权限，才能在管理中心创建连接。</li><li>仅具备Manager_tenant或Manager_auditor权限，无法创建连接。</li></ul>
</div></div>
</div>
</td>
</tr>
<tr id="row242874116524"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p965075314357"><a name="p965075314357"></a><a name="p965075314357"></a>密码</p>
</td>
<td class="cellrowborder" valign="top" width="10.36103610361036%" headers="mcps1.2.4.1.2 "><p id="p176508539353"><a name="p176508539353"></a><a name="p176508539353"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.22672267226723%" headers="mcps1.2.4.1.3 "><p id="p1065075323514"><a name="p1065075323514"></a><a name="p1065075323514"></a>MRS集群的访问密码，是必选项，您可以使用<a href="查看MRS-Ranger集群列表.md">查看MRS Ranger集群列表</a>前提条件步骤2中创建的密码。</p>
</td>
</tr>
<tr id="row1042984120525"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p10650105311359"><a name="p10650105311359"></a><a name="p10650105311359"></a>KMS密钥</p>
</td>
<td class="cellrowborder" valign="top" width="10.36103610361036%" headers="mcps1.2.4.1.2 "><p id="p1650175353520"><a name="p1650175353520"></a><a name="p1650175353520"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.22672267226723%" headers="mcps1.2.4.1.3 "><p id="p1965016536350"><a name="p1965016536350"></a><a name="p1965016536350"></a>KMS密钥名称，是必选项。</p>
</td>
</tr>
<tr id="row342954111522"><td class="cellrowborder" valign="top" width="22.41224122412241%" headers="mcps1.2.4.1.1 "><p id="p1665019534359"><a name="p1665019534359"></a><a name="p1665019534359"></a>绑定Agent</p>
</td>
<td class="cellrowborder" valign="top" width="10.36103610361036%" headers="mcps1.2.4.1.2 "><p id="p1765011537359"><a name="p1765011537359"></a><a name="p1765011537359"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="67.22672267226723%" headers="mcps1.2.4.1.3 "><p id="p865015310352"><a name="p865015310352"></a><a name="p865015310352"></a>MRS为非全托管服务，<span id="text1760341505"><a name="text1760341505"></a><a name="text1760341505"></a>DGC</span>无法直接与非全托管服务进行连接。云数据迁移集群提供了<span id="text51114350018"><a name="text51114350018"></a><a name="text51114350018"></a>DGC</span>与非全托管服务通信的代理，所以创建MRS Ranger的数据连接时，请选择一个云数据迁移集群，该集群需要和MRS使用同一安全组并保持。如果没有可用的云数据迁移集群，方法参见<a href="查看MRS-Ranger集群列表.md#section02133385153">创建连接</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 12**  MRS Presto数据连接

<a name="table88101192617"></a>
<table><thead align="left"><tr id="row19811219161"><th class="cellrowborder" valign="top" width="20.62%" id="mcps1.2.4.1.1"><p id="p1581151910611"><a name="p1581151910611"></a><a name="p1581151910611"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="9.36%" id="mcps1.2.4.1.2"><p id="p0811141919615"><a name="p0811141919615"></a><a name="p0811141919615"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="70.02000000000001%" id="mcps1.2.4.1.3"><p id="p1681114191966"><a name="p1681114191966"></a><a name="p1681114191966"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row158115191769"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p78110192617"><a name="p78110192617"></a><a name="p78110192617"></a>数据连接名称</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p68111019565"><a name="p68111019565"></a><a name="p68111019565"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p188111319867"><a name="p188111319867"></a><a name="p188111319867"></a>数据连接的名称，只能包含英文字母、数字、下划线和中划线，且长度为1~50个字符。</p>
</td>
</tr>
<tr id="row178110197619"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p138119192611"><a name="p138119192611"></a><a name="p138119192611"></a>标签</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p18111619965"><a name="p18111619965"></a><a name="p18111619965"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p1781110190611"><a name="p1781110190611"></a><a name="p1781110190611"></a>标识数据连接的属性。设置标签后，便于统一管理。可自行设置标签，也可在下拉框中选择已在<a href="标签管理.md">标签管理</a>中创建的标签。</p>
<div class="note" id="note0811119265"><a name="note0811119265"></a><a name="note0811119265"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p12811141910612"><a name="p12811141910612"></a><a name="p12811141910612"></a>标签的名称，只能包含中文、英文字母、数字和下划线，不能以下划线开头。且长度不能超过100个字符。</p>
</div></div>
</td>
</tr>
<tr id="row1081171911615"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p281131918614"><a name="p281131918614"></a><a name="p281131918614"></a>集群名</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p181115191864"><a name="p181115191864"></a><a name="p181115191864"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p1081219191266"><a name="p1081219191266"></a><a name="p1081219191266"></a>选择Presto所属的MRS集群。</p>
<p id="p1357549175116"><a name="p1357549175116"></a><a name="p1357549175116"></a>如果在下拉列表中无法显示MRS集群，请检查MRS集群与<span id="text9571349125119"><a name="text9571349125119"></a><a name="text9571349125119"></a>DGC</span>实例是否网络互通。</p>
<div class="p" id="p18865185675110"><a name="p18865185675110"></a><a name="p18865185675110"></a>需确保MRS集群和<span id="dgc_01_0009_text20329182914416_4"><a name="dgc_01_0009_text20329182914416_4"></a><a name="dgc_01_0009_text20329182914416_4"></a>DGC</span>实例之间网络互通，网络互通需满足如下条件：<a name="dgc_01_0009_ul1715617232281_4"></a><a name="dgc_01_0009_ul1715617232281_4"></a><ul id="dgc_01_0009_ul1715617232281_4"><li><span id="dgc_01_0009_text1205999218_4"><a name="dgc_01_0009_text1205999218_4"></a><a name="dgc_01_0009_text1205999218_4"></a>DGC</span>实例（指<span id="dgc_01_0009_text5205499217_4"><a name="dgc_01_0009_text5205499217_4"></a><a name="dgc_01_0009_text5205499217_4"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群处于不同区域的情况下，需要通过公网或者专线打通网络。</li><li><span id="dgc_01_0009_text1020589624_4"><a name="dgc_01_0009_text1020589624_4"></a><a name="dgc_01_0009_text1020589624_4"></a>DGC</span>实例（指<span id="dgc_01_0009_text72051795219_4"><a name="dgc_01_0009_text72051795219_4"></a><a name="dgc_01_0009_text72051795219_4"></a>DGC</span>实例中的批量数据迁移集群）与MRS集群同区域情况下，同虚拟私有云、同子网、同安全组的不同实例默认网络互通；如果同虚拟私有云但子网或安全组不同，还需配置路由规则及安全组规则，配置路由规则请参见<a href="https://support.huaweicloud.com/bestpractice-vpc/bestpractice_0009.html#bestpractice_0009__zh-cn_topic_0252060877_li16617547103419" target="_blank" rel="noopener noreferrer">如何配置路由规则</a>章节，配置安全组规则请参见<a href="https://support.huaweicloud.com/usermanual-ecs/zh-cn_topic_0140323152.html" target="_blank" rel="noopener noreferrer">如何配置安全组规则</a>章节。</li><li>此外，还需确保该MRS集群与<span id="dgc_01_0009_text4156132310284_4"><a name="dgc_01_0009_text4156132310284_4"></a><a name="dgc_01_0009_text4156132310284_4"></a>DGC</span>工作空间所属的企业项目相同，如果不同，您需要修改工作空间的企业项目。</li></ul>
</div>
</td>
</tr>
<tr id="row48546419527"><td class="cellrowborder" valign="top" width="20.62%" headers="mcps1.2.4.1.1 "><p id="p1885419425215"><a name="p1885419425215"></a><a name="p1885419425215"></a>描述</p>
</td>
<td class="cellrowborder" valign="top" width="9.36%" headers="mcps1.2.4.1.2 "><p id="p10855124105214"><a name="p10855124105214"></a><a name="p10855124105214"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="70.02000000000001%" headers="mcps1.2.4.1.3 "><p id="p1785511405219"><a name="p1785511405219"></a><a name="p1785511405219"></a>可自定义填写相关连接的描述。</p>
</td>
</tr>
</tbody>
</table>

## 创建MRS安全集群的kerberos认证用户<a name="section52193714195"></a>

如果要创建MRS安全集群的数据连接，不能使用admin用户。因为admin用户是默认的管理页面用户，这个用户无法作为安全集群的认证用户来使用。您可以参考以下步骤创建一个新的MRS用户：

针对MRS 3.x版本集群：

1.  使用admin登录MRS服务的Manager页面。
2.  在Manager页面选择“系统 \> 权限 \> 用户“，单击“添加用户“，添加一个专有用户作为kerberos认证用户，并且为这个用户添加用户组和分配角色权限，用户组选择superGroup，角色建议全选，然后根据页面提示完成用户的创建。

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >-   MRS 3.1.0及之后版本集群，所创建的用户至少需具备Manager\_viewer的角色权限才能在管理中心创建连接；如果需要对应组件的进行库、表、数据的操作，还需要添加对应组件的用户组权限。
    >-   MRS 3.1.0版本之前的集群，所创建的用户需要具备Manager\_administrator或System\_administrator权限，才能在管理中心创建连接。
    >-   仅具备Manager\_tenant或Manager\_auditor权限，无法创建连接。

3.  使用新建的用户登录Manager页面，更新初始密码。

针对MRS 2.x及之前版本集群 ：

1.  使用admin登录MRS Manager页面。
2.  在MRS Manager页面的“系统设置“中，单击“用户管理“，在用户管理页面，添加用户，添加一个专有用户作为kerberos认证用户，并且为这个用户添加用户组和分配角色权限，用户组选择superGroup，角色建议全选，然后根据页面提示完成用户的创建。

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >-   MRS 2.x及之前版本集群，所创建的用户需要具备Manager\_administrator或System\_administrator权限，才能在管理中心创建连接。
    >-   仅具备Manager\_tenant或Manager\_auditor权限，无法创建连接。

3.  使用新建的用户登录MRS Manager页面，更新初始密码。

## 编辑数据连接<a name="section1497675316523"></a>

1.  登录DGC管理中心控制台，单击“数据连接”，进入数据连接页面。
2.  在数据连接列表中，找到所需编辑的连接，然后单击“编辑“。
3.  在“编辑数据连接“对话框中，根据需要修改连接参数，参数描述可参考[数据连接参数说明](#zh-cn_topic_0141836082_section128311774526)。
4.  完成修改后，单击“测试“测试数据连接的是否可以正常连接，如果可以正常连接，单击“确定“。

    如果测试连接无法连通，数据连接将无法创建，请根据错误提示重新修改连接参数后再进行重试。


## 删除数据连接<a name="section9186192595"></a>

若删除数据连接，此数据连接下的数据表信息也会被删除，请谨慎操作。删除数据连接时，若待删除的连接已被引用，则不可删除，反之，可删除。

1.  登录DGC管理中心控制台，单击“数据连接”，进入数据连接页面。
2.  在数据连接列表中，找到所需删除的连接，然后单击“删除“。
3.  在删除确认对话框中，了解删除连接的影响后，若要删除，单击“确定“。

