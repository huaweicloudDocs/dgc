# 使用DGC前的准备<a name="dgc_01_0134"></a>

在使用DGC前，您应首先进行数据与业务调研，选择合适的数据治理模型。

然后参考本章节，预先做好以下准备工作：

-   [DGC准备工作](#section485519219101)
-   [准备数据源](#section104811741192013)
-   [准备数据湖](#section19482194142011)

## DGC准备工作<a name="section485519219101"></a>

如果您是第一次使用DGC，请参考[准备工作](https://support.huaweicloud.com/prepare-dgc/dgc_01_0003.html)章节，完成购买DGC实例、创建工作空间等一系列操作。然后找到对应的工作空间，即可开始数据开发与运营。

## 准备数据源<a name="section104811741192013"></a>

在实际业务中，源端数据源大多为云下的MySQL、PostgreSQL、HBase、Hive等类型，您需要作如下准备：

-   确保数据源所在的主机可以访问公网。
-   获取数据源的公网连接地址、数据库端口、数据库管理员用户及密码等信息。
-   确保防火墙规则出方向已开放数据库端口，允许数据传输到云上。

准备好数据源之后，后续您可以通过[数据集成（批量数据迁移）](数据集成（批量数据迁移）.md)或[数据集成（实时数据接入）](数据集成（实时数据接入）.md)将数据源迁移到数据湖底座中，然后再通过DGC进行数据开发、治理和运营等活动。

## 准备数据湖<a name="section19482194142011"></a>

在使用DGC前，您需要根据业务场景选择符合需求的云服务作为DGC的数据湖底座，用于存储原始数据和数据开发过程中的数据，并进行后续的数据开发、治理和运营等活动。DGC平台当前支持的数据湖产品请参见[DGC支持的数据源](DGC支持的数据源.md)。

准备好数据湖之后，您可以通过[创建数据连接](创建数据连接.md)将DGC与数据湖底座连接起来，然后进行[1](#li6595416104116)和[2](#li835274064119)的操作。[1](#li6595416104116)和[2](#li835274064119)的操作样例可参考[步骤2：准备工作](https://support.huaweicloud.com/qs-dgc/dgc_04_0004.html#section4)章节。

1.  <a name="li6595416104116"></a>**创建数据库**

    在使用DGC数据集成将数据迁移上云之前，我们需要在目的端数据湖中创建目标数据库。根据数据湖治理落地流程，建议您在数据湖中为SDI层、DWI层、DWR层和DM层分别创建一个数据库，从而对数据进行分层分库。数据分层是后面在规范设计中将涉及到的概念，此处可先简单了解，在规范设计时将深入了解与操作。

    您可以参考以下任一一种方式在数据湖中创建数据库。

    -   您可以在DGC数据开发模块中，可视化方式创建数据库，具体操作请参见[新建数据库](https://support.huaweicloud.com/usermanual-dgc/dgc_01_0405.html)章节。
    -   您可以通过在DGC数据开发模块或数据湖产品的SQL编辑器上，开发并执行用于创建数据库的SQL脚本，从而创建数据库。在DGC数据开发模块开发脚本的具体操作请参见[开发SQL脚本](https://support.huaweicloud.com/zh-cn/usermanual-dgc/dgc_01_0424.html)章节；数据湖产品的SQL编辑器上的具体操作请参见对应数据湖产品的帮助文档。

2.  <a name="li835274064119"></a>**创建数据表**

    在使用DGC数据集成将数据迁移上云之前，我们需要在目的端数据湖的SDI层数据库中创建一个目标表，用于存储原始数据。批量数据迁移场景下，关系型数据库之间的迁移和关系型数据库到Hive的迁移支持自动创建目标表，这种情况下可以不预先预先在目的端数据库中创建目标表。

    您可以参考以下任一一种方式在数据湖中创建原始数据表。如果表字段个数较多，建议使用编写SQL脚本的方式创建表。

    -   您可以在DGC数据开发模块中，可视化方式创建数据表，具体操作请参见[新建数据表](https://support.huaweicloud.com/usermanual-dgc/dgc_01_0416.html)章节。
    -   您可以通过在DGC数据开发模块或数据湖产品的SQL编辑器上，开发并执行用于创建数据表的SQL脚本，从而创建数据表。在DGC数据开发模块开发脚本的具体操作请参见[开发SQL脚本](https://support.huaweicloud.com/zh-cn/usermanual-dgc/dgc_01_0424.html)章节；数据湖产品的SQL编辑器上的具体操作请参见对应数据湖产品的帮助文档。


