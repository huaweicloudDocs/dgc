# 购买实时数据接入增量包<a name="dgc_01_1029"></a>

如果需要使用DIS实时数据接入，在购买DGC基础包实例后，需要购买实时数据接入增量包。

实时数据接入增量包支持通过按需计费或套餐包方式计费两种方式购买：

-   [按需计费方式购买实时数据接入通道](#section8646820953)：按需计费方式比较灵活，可以即开即停，按实际使用时长计费。
-   [套餐包方式购买实时数据接入通道](#section7484828762)：套餐包方式相对于按需计费更优惠，对于长期使用者，推荐该方式。

## 背景信息<a name="section2068014063918"></a>

购买“实时数据接入增量包时，需注意如下几点：

-   购买“按需计费”增量包，系统会按照您所选规格自动创建一个实时数据接入通道。
-   购买“套餐包”增量包，系统不会创建实时数据接入通道。如果您只购买了一个“套餐包”计费模式的增量包，因为当前没有实时数据接入通道，该套餐包不会消耗所购买的时长。
-   如果您希望享受“套餐包”的优惠价格，需要先购买一个“套餐包”增量包，再购买一个和“套餐包”增量包具有相同区域和规格的“按需计费”增量包。
-   如果您先购买一个“按需计费”增量包，再购买一个和“按需计费”增量包具有相同区域和规格的“套餐包”增量包，则在购买“套餐包”增量包之前已经产生的费用按“按需计费”计费，购买“套餐包”增量包之后的费用按“套餐包”计费。

## 按需计费方式购买实时数据接入通道<a name="section8646820953"></a>

购买“按需计费”增量包，系统会按照您所选规格自动创建一个实时数据接入通道。

1.  单击已开通实例卡片上的“购买增量包“。
2.  进入购买DGC增量包页面，参见[表1](#zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_table343119374217)进行配置。

    **图 1**  配置实时数据接入增量包<a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_fig20216136164313"></a>  
    ![](figures/配置实时数据接入增量包.png "配置实时数据接入增量包")

    **表 1**  配置实时数据接入的增量包

    <a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_table343119374217"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row1043219317428"><th class="cellrowborder" valign="top" width="17.62%" id="mcps1.2.3.1.1"><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p84322394218"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p84322394218"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p84322394218"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="82.38%" id="mcps1.2.3.1.2"><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p74329304215"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p74329304215"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p74329304215"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row943212311427"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p4432133194215"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p4432133194215"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p4432133194215"></a>增量包类型</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2432183134215"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2432183134215"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2432183134215"></a>选择实时数据接入增量包。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row2432153154210"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p184321831424"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p184321831424"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p184321831424"></a>计费方式</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p16432934429"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p16432934429"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p16432934429"></a>选择按需计费。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row14432113144213"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p9432123134217"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p9432123134217"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p9432123134217"></a>工作空间</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p117107275515"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p117107275515"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p117107275515"></a>选择需要使用实时数据接入增量包的工作空间。例如在<span id="zh-cn_topic_0000001127193887_text055432210529"><a name="zh-cn_topic_0000001127193887_text055432210529"></a><a name="zh-cn_topic_0000001127193887_text055432210529"></a>DGC</span>实例test的A工作空间中<span id="zh-cn_topic_0000001127193887_text266512343272"><a name="zh-cn_topic_0000001127193887_text266512343272"></a><a name="zh-cn_topic_0000001127193887_text266512343272"></a>购买</span>实时数据接入的增量包，这里工作空间选择A。<span id="zh-cn_topic_0000001127193887_text172251247132717"><a name="zh-cn_topic_0000001127193887_text172251247132717"></a><a name="zh-cn_topic_0000001127193887_text172251247132717"></a>购买</span>成功后，即可通过A工作空间查看到已经创建的通道。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row8433331429"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p12433139422"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p12433139422"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p12433139422"></a>通道名称</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p411402701418"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p411402701418"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p411402701418"></a>用户发送或者接收数据时，需要指定通道名称，通道名称不可重复。通道名称由<span id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_text53948140141235"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_text53948140141235"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_text53948140141235"></a>英文字母、数字、中划线和下划线组成。</span>长度为1～64个字符。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row1365517278599"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p14656182716598"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p14656182716598"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p14656182716598"></a>通道类型</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p116911352175919"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p116911352175919"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p116911352175919"></a>通道类型分为普通和高级。</p>
    <a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul1069111529595"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul1069111529595"></a><ul id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul1069111529595"><li>普通：单分区，最高发送速度可达1MB/秒或1000条记录/秒（达到任意一种速度上限才会被限流），最高提取速度可达2MB/秒。</li><li>高级：单分区，最高发送速度可达5MB/秒或2000条记录/秒（达到任意一种速度上限才会被限流），最高提取速度可达10MB/秒。</li></ul>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row34339312423"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p104335334211"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p104335334211"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p104335334211"></a>分区数量</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><div class="p" id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p50847566142947"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p50847566142947"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p50847566142947"></a>分区是数据通道的基本吞吐量单位，通道的多个分区可以并发进行数据传输，以提升效率。<a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul64669032142927"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul64669032142927"></a><ul id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul64669032142927"><li>普通通道的分区数量取值范围：1～50的整数，每个租户分区数量总和不能超过50。</li><li>高级通道的分区数量取值范围：1～10的整数，每个租户分区数量总和不能超过10。</li></ul>
    </div>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row13519264717"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p173521822471"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p173521822471"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p173521822471"></a>分区计算</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><div class="p" id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p203587582019"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p203587582019"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p203587582019"></a>用户可以根据实际需求通过系统计算得到一个建议的分区数量值。<a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ol03889271924"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ol03889271924"></a><ol id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ol03889271924"><li>单击“分区计算”，弹出“计算所需分区数量”对话框。</li><li>根据实际需求填写“平均记录大小”、“最大写入记录数”和“消费程序数量”，“预估所需分区数量”选项框中将显示所需的分区数量，此值不可修改。<div class="note" id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_note0380722563"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_note0380722563"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_note0380722563"></a><span class="notetitle"> 说明： </span><div class="notebody"><div class="p" id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p43809221865"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p43809221865"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p43809221865"></a>所需分区计算公式：<a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul13223349162"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul13223349162"></a><ul id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul13223349162"><li>按流量计算所需写分区数：（所得数值需向上取整后作为分区数）<p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p1292793683715"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p1292793683715"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p1292793683715"></a>普通通道：平均记录大小*（1+分区预留比例20%）*最大写入记录数/（1*1024KB）</p>
    <p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p1611153718285"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p1611153718285"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p1611153718285"></a>高级通道：平均记录大小*（1+分区预留比例20%）*最大写入记录数/（5*1024KB）</p>
    </li><li>按消费程序数量计算读分区数：（消费程序数量/2后的数值需要保留两位小数，然后乘以“按流量计算所需写分区数”，最终取值需向上取整）<p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2361623371"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2361623371"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2361623371"></a>（消费程序数量/2）*按流量计算所需的写分区数</p>
    <p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p183221412162615"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p183221412162615"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p183221412162615"></a>获取“按流量计算所需写分区数”、“按消费程序数量计算读分区数”中的最大值作为预估所需分区数量。</p>
    </li></ul>
    </div>
    </div></div>
    </li><li>单击“使用计算值”将系统计算出的建议值应用于“分区数量”。</li></ol>
    </div>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row1043303194217"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p1433103164216"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p1433103164216"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p1433103164216"></a>生命周期</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p25880564143452"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p25880564143452"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p25880564143452"></a>存储在实时数据接入通道中的数据保留的最长时间，超过此时长数据将被清除。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row686619452441"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p88671845174415"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p88671845174415"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p88671845174415"></a>源数据类型</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul88901210194810"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul88901210194810"></a><ul id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_ul88901210194810"><li>BLOB：存储在数据库管理系统中的一组二进制数据。“源数据类型”选择“BLOB”，则支持的“转储服务类型”为“OBS”、“MRS”。</li><li>JSON：一种开放的文件格式，以易读的文字为基础，用来传输由属性值或者序列性的值组成的数据对象。“源数据类型”选择“JSON”，则支持的“转储服务类型”为“OBS”、“MRS”、“DLI”、“CloudTable”和“DWS”。</li><li>CSV：纯文本形式存储的表格数据，分隔符默认采用逗号。“源数据类型”选择“CSV”，则支持的“转储服务类型”为“OBS”、“MRS”、“DLI”、“DWS”。</li></ul>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row1623444964416"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p203581536205512"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p203581536205512"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p203581536205512"></a>自动扩缩容</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2018612404556"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2018612404556"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2018612404556"></a>创建通道的同时是否开启自动扩缩容功能。</p>
    <div class="note" id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_note1349702161119"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_note1349702161119"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_note1349702161119"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2497192151115"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2497192151115"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p2497192151115"></a>用户可在创建通道时定义是否自动扩缩容，也可对已创建的通道修改自动扩缩容属性。</p>
    </div></div>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row1463855919489"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p830144817202"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p830144817202"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p830144817202"></a>自动缩容最小分区数</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p530184882010"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p530184882010"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p530184882010"></a>设置自动缩容的分区下限，自动缩容的目标分区数不小于下限值。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_row162481562488"><td class="cellrowborder" valign="top" width="17.62%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p18849165082019"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p18849165082019"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p18849165082019"></a>自动扩容最大分区数</p>
    </td>
    <td class="cellrowborder" valign="top" width="82.38%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p68497506202"><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p68497506202"></a><a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_p68497506202"></a>设置自动扩容的分区上限，自动扩容的目标分区数不超过上限值。</p>
    </td>
    </tr>
    </tbody>
    </table>

3.  单击“立即购买“，确认规格后提交。
4.  购买成功后，即可返回对应的工作空间查看已购买的实时数据接入通道。

    **图 2**  查看通道<a name="zh-cn_topic_0000001127193887_zh-cn_topic_0197155665_fig48217317316"></a>  
    ![](figures/查看通道.jpg "查看通道")


## 套餐包方式购买实时数据接入通道<a name="section7484828762"></a>

如果您希望享受“套餐包”的优惠价格，您需要先购买一个“套餐包”增量包，再购买一个和“套餐包”增量包具有相同区域和规格的“按需计费”增量包。

1.  单击已开通实例卡片上的“购买增量包“。
2.  进入购买DGC增量包页面，按照如下配置：
    1.  增量包类型：选择实时数据接入增量包。
    2.  计费方式：选择套餐包。
    3.  资源包类型：当前只支持普通接入分区。
    4.  购买时长：表示此套餐包的有效时长。
    5.  购买数量：表示购买套餐包的数量。例如当购买时长选择1个月，购买数量选择2，那么您将拥有1500小时的额度，有效期是1个月。

3.  单击“立即购买“，确认规格后提交订单。
4.  购买套餐包成功后，系统不会自动创建实时数据接入通道。此时您还需要参考[按需计费方式购买实时数据接入通道](#section8646820953)再购买一个和“套餐包”具有相同区域和规格的“按需计费”增量包，创建成功后您即可享受套餐包的优惠价格。

