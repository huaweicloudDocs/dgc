# 新建质量作业<a name="dgc_01_0712"></a>

质量作业可将创建的规则应用到建好的表中进行质量监控。

## 前提条件<a name="zh-cn_topic_0141836100_section1760555011913"></a>

在DGC控制台数据质量模块，“数据质量监控  \>  质量作业“页面创建归属目录。基于某个数据连接创建质量作业，需要选择作业归属目录，请参见[图1](#zh-cn_topic_0141836100_fig104618412258)创建归属目录。

**图 1**  新建质量作业的归属目录<a name="zh-cn_topic_0141836100_fig104618412258"></a>  
![](figures/新建质量作业的归属目录.jpg "新建质量作业的归属目录")

**表 1**  导航栏按键说明

<a name="zh-cn_topic_0141836100_table952445162715"></a>
<table><thead align="left"><tr id="zh-cn_topic_0141836100_row352545110274"><th class="cellrowborder" valign="top" width="11.42%" id="mcps1.2.3.1.1"><p id="zh-cn_topic_0141836100_p4525251172711"><a name="zh-cn_topic_0141836100_p4525251172711"></a><a name="zh-cn_topic_0141836100_p4525251172711"></a>序号</p>
</th>
<th class="cellrowborder" valign="top" width="88.58%" id="mcps1.2.3.1.2"><p id="zh-cn_topic_0141836100_p115252519279"><a name="zh-cn_topic_0141836100_p115252519279"></a><a name="zh-cn_topic_0141836100_p115252519279"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0141836100_row352525182710"><td class="cellrowborder" valign="top" width="11.42%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0141836100_p135261517274"><a name="zh-cn_topic_0141836100_p135261517274"></a><a name="zh-cn_topic_0141836100_p135261517274"></a>1</p>
</td>
<td class="cellrowborder" valign="top" width="88.58%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0141836100_p12527125182720"><a name="zh-cn_topic_0141836100_p12527125182720"></a><a name="zh-cn_topic_0141836100_p12527125182720"></a>新建目录。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836100_row55274511271"><td class="cellrowborder" valign="top" width="11.42%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0141836100_p13528651192719"><a name="zh-cn_topic_0141836100_p13528651192719"></a><a name="zh-cn_topic_0141836100_p13528651192719"></a>2</p>
</td>
<td class="cellrowborder" valign="top" width="88.58%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0141836100_p252813518274"><a name="zh-cn_topic_0141836100_p252813518274"></a><a name="zh-cn_topic_0141836100_p252813518274"></a>刷新目录。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141836100_row205282051102719"><td class="cellrowborder" valign="top" width="11.42%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0141836100_p452810519275"><a name="zh-cn_topic_0141836100_p452810519275"></a><a name="zh-cn_topic_0141836100_p452810519275"></a>3</p>
</td>
<td class="cellrowborder" valign="top" width="88.58%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0141836100_p1652845162712"><a name="zh-cn_topic_0141836100_p1652845162712"></a><a name="zh-cn_topic_0141836100_p1652845162712"></a>选择目录 ，单击右键，可新建目录、删除目录和对目录重命名。</p>
</td>
</tr>
</tbody>
</table>

## 配置流程<a name="zh-cn_topic_0141836100_section10168929193318"></a>

1.  在DGC控制台首页，选择对应工作空间的“数据质量“模块，进入数据质量页面。

    **图 2**  选择数据质量<a name="dgc_01_0703_dgc_01_0009_fig1540042925813"></a>  
    ![](figures/选择数据质量.png "选择数据质量")


1.  选择“数据质量监控  \>  质量作业“。
2.  单击“新建“，在弹出的对话框中，参见[表2](#zh-cn_topic_0141836100_table17370943112118)配置相关参数。

    **表 2**  配置作业参数

    <a name="zh-cn_topic_0141836100_table17370943112118"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0141836100_row836964332120"><th class="cellrowborder" valign="top" width="21.08%" id="mcps1.2.3.1.1"><p id="zh-cn_topic_0141836100_p143692439217"><a name="zh-cn_topic_0141836100_p143692439217"></a><a name="zh-cn_topic_0141836100_p143692439217"></a>参数名</p>
    </th>
    <th class="cellrowborder" valign="top" width="78.92%" id="mcps1.2.3.1.2"><p id="zh-cn_topic_0141836100_p153691143102113"><a name="zh-cn_topic_0141836100_p153691143102113"></a><a name="zh-cn_topic_0141836100_p153691143102113"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0141836100_row173692437211"><td class="cellrowborder" valign="top" width="21.08%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0141836100_p436916437216"><a name="zh-cn_topic_0141836100_p436916437216"></a><a name="zh-cn_topic_0141836100_p436916437216"></a>作业名称</p>
    </td>
    <td class="cellrowborder" valign="top" width="78.92%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0141836100_p1036918430217"><a name="zh-cn_topic_0141836100_p1036918430217"></a><a name="zh-cn_topic_0141836100_p1036918430217"></a>质量作业的名称，只能包含中文、英文字母、数字、“_”，且长度为1~64个字符。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row16252121211388"><td class="cellrowborder" valign="top" width="21.08%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0141836100_p118111123103810"><a name="zh-cn_topic_0141836100_p118111123103810"></a><a name="zh-cn_topic_0141836100_p118111123103810"></a>描述</p>
    </td>
    <td class="cellrowborder" valign="top" width="78.92%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0141836100_p148117238388"><a name="zh-cn_topic_0141836100_p148117238388"></a><a name="zh-cn_topic_0141836100_p148117238388"></a>为更好的识别数据质量作业，此处加以描述信息。描述信息长度不能超过256个字符。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row7610014183811"><td class="cellrowborder" valign="top" width="21.08%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0141836100_p681162313819"><a name="zh-cn_topic_0141836100_p681162313819"></a><a name="zh-cn_topic_0141836100_p681162313819"></a>所属目录</p>
    </td>
    <td class="cellrowborder" valign="top" width="78.92%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0141836100_p781132313813"><a name="zh-cn_topic_0141836100_p781132313813"></a><a name="zh-cn_topic_0141836100_p781132313813"></a>数据质量作业的存储目录，可选择已创建的目录。目录创建请参见<a href="#zh-cn_topic_0141836100_fig104618412258">图1</a>。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row175042052183919"><td class="cellrowborder" valign="top" width="21.08%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0141836100_p145041152143917"><a name="zh-cn_topic_0141836100_p145041152143917"></a><a name="zh-cn_topic_0141836100_p145041152143917"></a>作业级别</p>
    </td>
    <td class="cellrowborder" valign="top" width="78.92%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0141836100_p8504125215392"><a name="zh-cn_topic_0141836100_p8504125215392"></a><a name="zh-cn_topic_0141836100_p8504125215392"></a>支持提示、一般、严重和致命四种级别，作业级别决定发出通知消息的模板样式。</p>
    </td>
    </tr>
    </tbody>
    </table>

3.  单击“下一步“，进入规则配置页面。您需要点击规则卡片中的![](figures/zh-cn_image_0000001151268666.png)，然后参见[表3](#zh-cn_topic_0141836100_table7770194025911)配置数据质量规则。您也可选择添加质量规则，创建完成后单击下一步，即可将创建的所有规则应用到已建好的表中。

    **图 3**  打开质量作业规则配置<a name="fig257644311711"></a>  
    ![](figures/打开质量作业规则配置.png "打开质量作业规则配置")

    **表 3**  配置模板规则

    <a name="zh-cn_topic_0141836100_table7770194025911"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0141836100_row277044035913"><th class="cellrowborder" valign="top" width="16.3%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0141836100_p11770740135914"><a name="zh-cn_topic_0141836100_p11770740135914"></a><a name="zh-cn_topic_0141836100_p11770740135914"></a>添加方式</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.690000000000001%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0141836100_p7770124005919"><a name="zh-cn_topic_0141836100_p7770124005919"></a><a name="zh-cn_topic_0141836100_p7770124005919"></a>配置</p>
    </th>
    <th class="cellrowborder" valign="top" width="68.01%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0141836100_p207706408595"><a name="zh-cn_topic_0141836100_p207706408595"></a><a name="zh-cn_topic_0141836100_p207706408595"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0141836100_row1677011403594"><td class="cellrowborder" rowspan="7" valign="top" width="16.3%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p13241755122012"><a name="zh-cn_topic_0141836100_p13241755122012"></a><a name="zh-cn_topic_0141836100_p13241755122012"></a>来源对象</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.690000000000001%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p8770144011599"><a name="zh-cn_topic_0141836100_p8770144011599"></a><a name="zh-cn_topic_0141836100_p8770144011599"></a>规则类型</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.01%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836100_p977054015590"><a name="zh-cn_topic_0141836100_p977054015590"></a><a name="zh-cn_topic_0141836100_p977054015590"></a>包括库级规则、表级规则、字段级规则、跨字段级规则和自定义规则，自定义规则可针对表中的具体字段配置监控规则。此处选择为表级规则，页面中其他设置项对应为表级规则配置项。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row145216212112"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p65219213218"><a name="zh-cn_topic_0141836100_p65219213218"></a><a name="zh-cn_topic_0141836100_p65219213218"></a>数据连接</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p6370104317217"><a name="zh-cn_topic_0141836100_p6370104317217"></a><a name="zh-cn_topic_0141836100_p6370104317217"></a>从下拉列表中选择已创建的数据连接。</p>
    <div class="note" id="zh-cn_topic_0141836100_note1937094312213"><a name="zh-cn_topic_0141836100_note1937094312213"></a><a name="zh-cn_topic_0141836100_note1937094312213"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="zh-cn_topic_0141836100_p11476143622218"><a name="zh-cn_topic_0141836100_p11476143622218"></a><a name="zh-cn_topic_0141836100_p11476143622218"></a>规则都是基于数据连接的，所以在建立数据质量规则之前需要先到管理中心模块中建立数据连接。</p>
    </div></div>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row132411806219"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p424170182119"><a name="zh-cn_topic_0141836100_p424170182119"></a><a name="zh-cn_topic_0141836100_p424170182119"></a>数据库</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p12411400216"><a name="zh-cn_topic_0141836100_p12411400216"></a><a name="zh-cn_topic_0141836100_p12411400216"></a>选择配置的数据质量规则所应用到的数据库。</p>
    <div class="note" id="zh-cn_topic_0141836100_note11943114703913"><a name="zh-cn_topic_0141836100_note11943114703913"></a><a name="zh-cn_topic_0141836100_note11943114703913"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="ul73111932193612"></a><a name="ul73111932193612"></a><ul id="ul73111932193612"><li>数据库基于已建立的数据连接。</li><li>当<span class="parmname" id="parmname2089052114121"><a name="parmname2089052114121"></a><a name="parmname2089052114121"></a>“规则类型”</span>选择<span class="parmvalue" id="parmvalue1662118273126"><a name="parmvalue1662118273126"></a><a name="parmvalue1662118273126"></a>“库级规则”</span>，数据对象选择对应的数据库即可。</li></ul>
    </div></div>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row194615722013"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p4947175732010"><a name="zh-cn_topic_0141836100_p4947175732010"></a><a name="zh-cn_topic_0141836100_p4947175732010"></a>数据表</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p994785712204"><a name="zh-cn_topic_0141836100_p994785712204"></a><a name="zh-cn_topic_0141836100_p994785712204"></a>选择配置的数据质量规则所应用到的表。</p>
    <div class="note" id="zh-cn_topic_0141836100_note981216457301"><a name="zh-cn_topic_0141836100_note981216457301"></a><a name="zh-cn_topic_0141836100_note981216457301"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="ul298416214592"></a><a name="ul298416214592"></a><ul id="ul298416214592"><li>数据表与数据库强相关，基于已选择的数据库。</li><li>当<span class="parmname" id="parmname8724203201212"><a name="parmname8724203201212"></a><a name="parmname8724203201212"></a>“规则类型”</span>选择<span class="parmvalue" id="parmvalue570610362129"><a name="parmvalue570610362129"></a><a name="parmvalue570610362129"></a>“表级规则”</span>，数据对象选择对应的数据表。</li></ul>
    </div></div>
    </td>
    </tr>
    <tr id="row9401637398"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p1341133153918"><a name="p1341133153918"></a><a name="p1341133153918"></a>失败策略</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p174111383912"><a name="p174111383912"></a><a name="p174111383912"></a>选择是否勾选“忽略规则错误”。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row171461819144410"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p314741918444"><a name="zh-cn_topic_0141836100_p314741918444"></a><a name="zh-cn_topic_0141836100_p314741918444"></a>选择字段</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p151471819144415"><a name="zh-cn_topic_0141836100_p151471819144415"></a><a name="zh-cn_topic_0141836100_p151471819144415"></a>当<span class="parmname" id="parmname1559754216128"><a name="parmname1559754216128"></a><a name="parmname1559754216128"></a>“规则类型”</span>选择<span class="parmvalue" id="parmvalue13402185720126"><a name="parmvalue13402185720126"></a><a name="parmvalue13402185720126"></a>“字段级规则”</span>，数据对象选择对应数据表中的字段。</p>
    <div class="note" id="note472442175713"><a name="note472442175713"></a><a name="note472442175713"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p1731742125713"><a name="p1731742125713"></a><a name="p1731742125713"></a>数据质量字段级别校验不支持对字段名为单个字母（例如：a,b,c,d...等）的字段进行校验。</p>
    </div></div>
    </td>
    </tr>
    <tr id="row360811281145"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p125055136154"><a name="p125055136154"></a><a name="p125055136154"></a>参考数据对象</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p15911135221517"><a name="p15911135221517"></a><a name="p15911135221517"></a>当<span class="parmname" id="parmname09111452151515"><a name="parmname09111452151515"></a><a name="parmname09111452151515"></a>“规则类型”</span>选择<span class="parmvalue" id="parmvalue1791135210157"><a name="parmvalue1791135210157"></a><a name="parmvalue1791135210157"></a>“跨字段级规则”</span>，需要配置该参数，选择参考的数据字段。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row1312417243450"><td class="cellrowborder" rowspan="3" valign="top" width="16.3%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p3124152420452"><a name="zh-cn_topic_0141836100_p3124152420452"></a><a name="zh-cn_topic_0141836100_p3124152420452"></a>规则模板</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.690000000000001%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p91249242452"><a name="zh-cn_topic_0141836100_p91249242452"></a><a name="zh-cn_topic_0141836100_p91249242452"></a>模板名称</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.01%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836100_p151242240457"><a name="zh-cn_topic_0141836100_p151242240457"></a><a name="zh-cn_topic_0141836100_p151242240457"></a>选择系统内置的或者用户自定义的规则模板。</p>
    <div class="note" id="zh-cn_topic_0141836100_note12467120589"><a name="zh-cn_topic_0141836100_note12467120589"></a><a name="zh-cn_topic_0141836100_note12467120589"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="zh-cn_topic_0141836100_p1424771219584"><a name="zh-cn_topic_0141836100_p1424771219584"></a><a name="zh-cn_topic_0141836100_p1424771219584"></a>模板类型与规则类型强相关。</p>
    <a name="zh-cn_topic_0141836100_ul17382842105917"></a><a name="zh-cn_topic_0141836100_ul17382842105917"></a><ul id="zh-cn_topic_0141836100_ul17382842105917"><li>当规则类型选择<span class="parmname" id="zh-cn_topic_0141836100_parmname1867155918313"><a name="zh-cn_topic_0141836100_parmname1867155918313"></a><a name="zh-cn_topic_0141836100_parmname1867155918313"></a>“库级规则”</span>，当前系统已内置的模板类型为<span class="parmvalue" id="zh-cn_topic_0141836100_parmvalue1443341019101"><a name="zh-cn_topic_0141836100_parmvalue1443341019101"></a><a name="zh-cn_topic_0141836100_parmvalue1443341019101"></a>“数据库空值扫描”</span>。</li><li>当规则类型选择<span class="parmname" id="zh-cn_topic_0141836100_parmname1918214521214"><a name="zh-cn_topic_0141836100_parmname1918214521214"></a><a name="zh-cn_topic_0141836100_parmname1918214521214"></a>“表级规则”</span>，当前系统内置的模板类型为<span class="parmvalue" id="zh-cn_topic_0141836100_parmvalue59849548122"><a name="zh-cn_topic_0141836100_parmvalue59849548122"></a><a name="zh-cn_topic_0141836100_parmvalue59849548122"></a>“表行数”</span>和<span class="parmvalue" id="zh-cn_topic_0141836100_parmvalue119131031312"><a name="zh-cn_topic_0141836100_parmvalue119131031312"></a><a name="zh-cn_topic_0141836100_parmvalue119131031312"></a>“数据表空值扫描”</span>两种。</li><li>当规则类型选择<span class="parmname" id="zh-cn_topic_0141836100_parmname5759121741317"><a name="zh-cn_topic_0141836100_parmname5759121741317"></a><a name="zh-cn_topic_0141836100_parmname5759121741317"></a>“字段级规则”</span>，当前系统已匹配内置多种模板类型，例如<span class="parmname" id="zh-cn_topic_0141836100_parmname1091184712220"><a name="zh-cn_topic_0141836100_parmname1091184712220"></a><a name="zh-cn_topic_0141836100_parmname1091184712220"></a>“电话号码合法性校验”</span>、<span class="parmname" id="zh-cn_topic_0141836100_parmname99129472026"><a name="zh-cn_topic_0141836100_parmname99129472026"></a><a name="zh-cn_topic_0141836100_parmname99129472026"></a>“IP地址合法性校验”</span>、<span class="parmname" id="zh-cn_topic_0141836100_parmname3912447624"><a name="zh-cn_topic_0141836100_parmname3912447624"></a><a name="zh-cn_topic_0141836100_parmname3912447624"></a>“邮箱合法性校验”</span>等。</li><li>当规则类型选择<span class="parmname" id="zh-cn_topic_0141836100_parmname472462416135"><a name="zh-cn_topic_0141836100_parmname472462416135"></a><a name="zh-cn_topic_0141836100_parmname472462416135"></a>“跨字段级规则”</span>，当前系统已内置的模板类型为<span class="parmvalue" id="zh-cn_topic_0141836100_parmvalue1544015302131"><a name="zh-cn_topic_0141836100_parmvalue1544015302131"></a><a name="zh-cn_topic_0141836100_parmvalue1544015302131"></a>“字段一致性校验”</span>。</li><li>除去系统内置规则模板外，您也可关联自定义的规则模板。自定义规则模板的方法请参见<a href="新建规则模板.md">新建规则模板</a>。</li></ul>
    </div></div>
    </td>
    </tr>
    <tr id="row726512507402"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p226565044013"><a name="p226565044013"></a><a name="p226565044013"></a>版本</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p162651505401"><a name="p162651505401"></a><a name="p162651505401"></a>选择规则模板的版本。</p>
    </td>
    </tr>
    <tr id="row99002304264"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p4901173042615"><a name="p4901173042615"></a><a name="p4901173042615"></a>权重</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p119011130152610"><a name="p119011130152610"></a><a name="p119011130152610"></a>设置规则的权重，支持按照字段级别设置权重。权重范围：【1-9】，整数。默认值为5。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row165288546138"><td class="cellrowborder" valign="top" width="16.3%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p052915413133"><a name="zh-cn_topic_0141836100_p052915413133"></a><a name="zh-cn_topic_0141836100_p052915413133"></a>自定义SQL</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.690000000000001%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p14529145491313"><a name="zh-cn_topic_0141836100_p14529145491313"></a><a name="zh-cn_topic_0141836100_p14529145491313"></a>SQL</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.01%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836100_p145291854151311"><a name="zh-cn_topic_0141836100_p145291854151311"></a><a name="zh-cn_topic_0141836100_p145291854151311"></a>输入完整的SQL语句，定义如何对数据对象进行数据质量监控。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row27706404592"><td class="cellrowborder" rowspan="10" valign="top" width="16.3%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p79051726172011"><a name="zh-cn_topic_0141836100_p79051726172011"></a><a name="zh-cn_topic_0141836100_p79051726172011"></a>告警条件</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.690000000000001%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p687618021814"><a name="zh-cn_topic_0141836100_p687618021814"></a><a name="zh-cn_topic_0141836100_p687618021814"></a>告警表达式</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.01%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836100_p1816613771813"><a name="zh-cn_topic_0141836100_p1816613771813"></a><a name="zh-cn_topic_0141836100_p1816613771813"></a>使用实际值替换规则模板中定义的<span class="parmname" id="zh-cn_topic_0141836100_parmname111741637143211"><a name="zh-cn_topic_0141836100_parmname111741637143211"></a><a name="zh-cn_topic_0141836100_parmname111741637143211"></a>“结果说明”</span>变量，计算出结果作为告警条件。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row166451937205716"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p26471371572"><a name="zh-cn_topic_0141836100_p26471371572"></a><a name="zh-cn_topic_0141836100_p26471371572"></a>告警参数</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p1464718375578"><a name="zh-cn_topic_0141836100_p1464718375578"></a><a name="zh-cn_topic_0141836100_p1464718375578"></a>设置告警条件的告警参数，此参数来源于规则模板的输出结果。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row11521241195717"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p195211941195720"><a name="zh-cn_topic_0141836100_p195211941195720"></a><a name="zh-cn_topic_0141836100_p195211941195720"></a>逻辑运算符</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p1952111415571"><a name="zh-cn_topic_0141836100_p1952111415571"></a><a name="zh-cn_topic_0141836100_p1952111415571"></a>将多个告警参数进行逻辑运算，组成更复杂的告警条件。</p>
    </td>
    </tr>
    <tr id="row176617537292"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p13662185314298"><a name="p13662185314298"></a><a name="p13662185314298"></a>质量评分</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p7835143916513"><a name="p7835143916513"></a><a name="p7835143916513"></a><span class="parmname" id="parmname44451950105217"><a name="parmname44451950105217"></a><a name="parmname44451950105217"></a>“规则类型”</span>为<span class="parmvalue" id="parmvalue103951554165212"><a name="parmvalue103951554165212"></a><a name="parmvalue103951554165212"></a>“自定义规则”</span>时，呈现此参数。</p>
    <p id="p12058845212"><a name="p12058845212"></a><a name="p12058845212"></a>当前仅支持对内置规则模板结果说明中带有<span class="parmvalue" id="parmvalue113578025317"><a name="parmvalue113578025317"></a><a name="parmvalue113578025317"></a>“比率”</span>、<span class="parmvalue" id="parmvalue5874365317"><a name="parmvalue5874365317"></a><a name="parmvalue5874365317"></a>“值率”</span>字样的规则进行质量评分。自定义模板暂不支持进行质量评分。</p>
    </td>
    </tr>
    <tr id="row09651620213"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p196619208119"><a name="p196619208119"></a><a name="p196619208119"></a>生成异常数据</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p15230163184620"><a name="p15230163184620"></a><a name="p15230163184620"></a>开启“生成异常数据”开关，单击“选择库表”可将质量作业中不符合设定规则的异常数据存储在异常表中。</p>
    <div class="note" id="note115765154317"><a name="note115765154317"></a><a name="note115765154317"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="ul1495823194413"></a><a name="ul1495823194413"></a><ul id="ul1495823194413"><li>自定义规则模板，不支持生成异常数据。</li><li>系统内置模板，“表级规则”中的“表行数” 模板。“字段级规则”中的<span class="parmname" id="parmname479703714383"><a name="parmname479703714383"></a><a name="parmname479703714383"></a>“字段平均值”</span>、<span class="parmname" id="parmname159702216382"><a name="parmname159702216382"></a><a name="parmname159702216382"></a>“字段汇总值”</span>、<span class="parmname" id="parmname830613763815"><a name="parmname830613763815"></a><a name="parmname830613763815"></a>“字段最大值”</span>、<span class="parmname" id="parmname863812111386"><a name="parmname863812111386"></a><a name="parmname863812111386"></a>“字段最小值”</span>模板不支持生成异常数据。</li></ul>
    </div></div>
    </td>
    </tr>
    <tr id="row199431641247"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p149432432418"><a name="p149432432418"></a><a name="p149432432418"></a>异常表</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p11943144162412"><a name="p11943144162412"></a><a name="p11943144162412"></a>单击选择库表，可以配置输出表名的前后缀。</p>
    </td>
    </tr>
    <tr id="row18698431185118"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p207007311516"><a name="p207007311516"></a><a name="p207007311516"></a>输出配置</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><a name="ul662614920386"></a><a name="ul662614920386"></a><ul id="ul662614920386"><li>输出规则配置：勾选，则可在异常表中显示质量作业的配置信息，方便查看异常数据产生的源头。</li><li>输出空值：勾选，则当空值不满足设定规则时，可在异常表中输出空值。</li></ul>
    </td>
    </tr>
    <tr id="row71834341399"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p4183123412396"><a name="p4183123412396"></a><a name="p4183123412396"></a>异常数据数量</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p1218393403912"><a name="p1218393403912"></a><a name="p1218393403912"></a>可选择输出全部的异常数据，或者设定数量的异常数据。</p>
    </td>
    </tr>
    <tr id="row1031428104715"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p1941128144711"><a name="p1941128144711"></a><a name="p1941128144711"></a>异常表SQL</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p18529142316489"><a name="p18529142316489"></a><a name="p18529142316489"></a>生成异常数据的SQL，指定输出哪些数据是异常数据。</p>
    </td>
    </tr>
    <tr id="row15514142520111"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p16515142510111"><a name="p16515142510111"></a><a name="p16515142510111"></a>查看相同规则</p>
    </td>
    <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p55151825214"><a name="p55151825214"></a><a name="p55151825214"></a>单击，创建质量作业时，</p>
    <a name="ul134513341109"></a><a name="ul134513341109"></a><ul id="ul134513341109"><li>能够根据表和字段判断规则的重复性。</li><li>提示已存在相关子规则和质量作业，您可看到已有规则。</li></ul>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row137708405593"><td class="cellrowborder" valign="top" width="16.3%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p7905026102017"><a name="zh-cn_topic_0141836100_p7905026102017"></a><a name="zh-cn_topic_0141836100_p7905026102017"></a>计算引擎</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.690000000000001%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p233784852019"><a name="zh-cn_topic_0141836100_p233784852019"></a><a name="zh-cn_topic_0141836100_p233784852019"></a>集群类型</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.01%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836100_p16770134025912"><a name="zh-cn_topic_0141836100_p16770134025912"></a><a name="zh-cn_topic_0141836100_p16770134025912"></a>选择运行质量作业的引擎。仅数据连接为DLI类型时，此参数有效。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row167991006566"><td class="cellrowborder" valign="top" width="16.3%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141836100_p7905192612016"><a name="zh-cn_topic_0141836100_p7905192612016"></a><a name="zh-cn_topic_0141836100_p7905192612016"></a>计算范围</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.690000000000001%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141836100_p471418508202"><a name="zh-cn_topic_0141836100_p471418508202"></a><a name="zh-cn_topic_0141836100_p471418508202"></a>选择扫描区域</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.01%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141836100_p20309125183210"><a name="zh-cn_topic_0141836100_p20309125183210"></a><a name="zh-cn_topic_0141836100_p20309125183210"></a>用来确定所配置的某条规则应检查的范围。</p>
    <a name="zh-cn_topic_0141836100_ul9808149112315"></a><a name="zh-cn_topic_0141836100_ul9808149112315"></a><ul id="zh-cn_topic_0141836100_ul9808149112315"><li>勾选全表扫描，则遍历所有表。</li><li>勾选条件扫描，输入where条件后，精确定位分区查询数据，不需要全表扫描查询。</li></ul>
    </td>
    </tr>
    </tbody>
    </table>

4.  单击“下一步”，设置告警配置信息。
5.  单击“下一步“，设置订阅配置信息，如果需要接收SMN通知，打开通知状态，选择通知类型和SMN服务主体。
6.  单击“下一步“，选择调度方式，支持单次调度和周期调度两种方式，周期调度的相关参数配置请参见[表4](#zh-cn_topic_0141836100_table75621469441)。配置完成后单击“提交”。

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >1.  单次调度会产生手动任务的实例，手动任务的特点是没有调度依赖，只需要手动触发即可。
    >2.  周期调度会产生周期实例，周期实例是周期任务达到启用调度所配置的周期性运行时间时，被自动调度起来的实例快照。
    >3.  周期任务每调度一次，便生成一个实例工作流。您可以对已调度起的实例任务进行日常的运维管理，如查看运行状态，对任务进行终止、重跑等操作。

    **表 4**  配置周期调度参数

    <a name="zh-cn_topic_0141836100_table75621469441"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0141836100_row1656214694416"><th class="cellrowborder" valign="top" width="27.58%" id="mcps1.2.3.1.1"><p id="zh-cn_topic_0141836100_p195627466446"><a name="zh-cn_topic_0141836100_p195627466446"></a><a name="zh-cn_topic_0141836100_p195627466446"></a>参数名</p>
    </th>
    <th class="cellrowborder" valign="top" width="72.42%" id="mcps1.2.3.1.2"><p id="zh-cn_topic_0141836100_p656234617442"><a name="zh-cn_topic_0141836100_p656234617442"></a><a name="zh-cn_topic_0141836100_p656234617442"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0141836100_row152800363813"><td class="cellrowborder" valign="top" width="27.58%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0141836100_p92827362812"><a name="zh-cn_topic_0141836100_p92827362812"></a><a name="zh-cn_topic_0141836100_p92827362812"></a>生效日期</p>
    </td>
    <td class="cellrowborder" valign="top" width="72.42%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0141836100_p1928211369815"><a name="zh-cn_topic_0141836100_p1928211369815"></a><a name="zh-cn_topic_0141836100_p1928211369815"></a>调度任务的生效日期。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0141836100_row65623466445"><td class="cellrowborder" valign="top" width="27.58%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0141836100_p1356264664413"><a name="zh-cn_topic_0141836100_p1356264664413"></a><a name="zh-cn_topic_0141836100_p1356264664413"></a>调度周期</p>
    </td>
    <td class="cellrowborder" valign="top" width="72.42%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0141836100_p125626467444"><a name="zh-cn_topic_0141836100_p125626467444"></a><a name="zh-cn_topic_0141836100_p125626467444"></a>选择调度任务的执行周期，并配置相关参数。</p>
    <a name="zh-cn_topic_0141836100_ul9562114610446"></a><a name="zh-cn_topic_0141836100_ul9562114610446"></a><ul id="zh-cn_topic_0141836100_ul9562114610446"><li>分钟</li><li>小时</li><li>天</li><li>周<div class="note" id="zh-cn_topic_0141836100_note24043501100"><a name="zh-cn_topic_0141836100_note24043501100"></a><a name="zh-cn_topic_0141836100_note24043501100"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="zh-cn_topic_0141836100_ul75431855121011"></a><a name="zh-cn_topic_0141836100_ul75431855121011"></a><ul id="zh-cn_topic_0141836100_ul75431855121011"><li>调度周期选择分钟/小时，需配置调度的开始时间、间隔时间和结束时间。开始时间目前支持设置到分钟级别，进行错峰调度。</li><li>调度周期选择天，需要配置调度时间，即确定了调度任务于每天的几时几分启用。</li><li>调度周期选择周，需要配置生效时间和调度时间，即确定了调度任务于周几的几时几分启用。</li></ul>
    </div></div>
    </li></ul>
    </td>
    </tr>
    </tbody>
    </table>


